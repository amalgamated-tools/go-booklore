{
  "openapi": "3.1.0",
  "info": {
    "title": "Booklore API",
    "description": "Booklore is a personal library management system. This API allows you to manage books, libraries, users, shelves, and more.",
    "contact": {
      "name": "Booklore",
      "url": "https://github.com/booklore-app/booklore"
    },
    "license": {
      "name": "GNU General Public License v3.0",
      "url": "https://www.gnu.org/licenses/gpl-3.0.html"
    },
    "version": "1.0"
  },
  "servers": [
    {
      "url": "/",
      "description": "Current server"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Bookdrop",
      "description": "Endpoints for managing bookdrop files and imports"
    },
    {
      "name": "Annotations",
      "description": "Endpoints for managing book annotations (highlights, underlines, etc.)"
    },
    {
      "name": "Email Recipients",
      "description": "Endpoints for managing email recipients for book delivery"
    },
    {
      "name": "Setup",
      "description": "Endpoints for initial application setup and user provisioning"
    },
    {
      "name": "Bookmarks",
      "description": "Endpoints for managing book bookmarks"
    },
    {
      "name": "Users",
      "description": "Endpoints for managing users and their settings"
    },
    {
      "name": "Library Paths",
      "description": "Endpoints for retrieving folder paths within libraries"
    },
    {
      "name": "OPDS Users",
      "description": "Endpoints for managing OPDS users"
    },
    {
      "name": "Book Notes",
      "description": "Endpoints for managing notes attached to books"
    },
    {
      "name": "Custom Fonts",
      "description": "Endpoints for managing custom fonts for EPUB reader"
    },
    {
      "name": "App Settings",
      "description": "Endpoints for retrieving and updating application settings"
    },
    {
      "name": "Mobile Books",
      "description": "Mobile-optimized endpoints for book operations"
    },
    {
      "name": "Mobile OIDC",
      "description": "Endpoints for mobile app OIDC authentication"
    },
    {
      "name": "Metadata Tasks",
      "description": "Endpoints for managing metadata batch tasks and proposals"
    },
    {
      "name": "CBX Reader",
      "description": "Endpoints for reading CBX format books"
    },
    {
      "name": "Authors",
      "description": "Endpoints for retrieving authors related to books"
    },
    {
      "name": "EPUB Reader",
      "description": "Endpoints for reading EPUB format books with streaming support"
    },
    {
      "name": "Libraries",
      "description": "Endpoints for managing libraries and their books"
    },
    {
      "name": "Books",
      "description": "Endpoints for managing books, their metadata, progress, and recommendations"
    },
    {
      "name": "Audiobook Reader",
      "description": "Endpoints for streaming audiobooks with HTTP Range support"
    },
    {
      "name": "Version",
      "description": "Endpoints for retrieving application version and changelog"
    },
    {
      "name": "Icons",
      "description": "Endpoints for managing SVG icons"
    },
    {
      "name": "Kobo Settings",
      "description": "Endpoints for managing Kobo sync settings"
    },
    {
      "name": "Komga API",
      "description": "Komga-compatible API endpoints. All endpoints support a 'clean' query parameter (default: false). When present (?clean or ?clean=true), responses exclude fields ending with 'Lock', null values, and empty arrays, resulting in smaller and cleaner JSON payloads."
    },
    {
      "name": "PDF Reader",
      "description": "Endpoints for reading PDF format books"
    },
    {
      "name": "Hardcover Sync Settings",
      "description": "Endpoints for managing Hardcover progress sync settings"
    },
    {
      "name": "Email Providers",
      "description": "Endpoints for managing email providers for book delivery"
    },
    {
      "name": "KoReader",
      "description": "Endpoints for KoReader device integration and progress sync"
    },
    {
      "name": "Magic Shelves",
      "description": "Endpoints for managing user-defined magic shelves"
    },
    {
      "name": "KoReader Users",
      "description": "Endpoints for managing KoReader user accounts and sync settings"
    },
    {
      "name": "Healthcheck",
      "description": "Endpoints for checking the healch of the application"
    },
    {
      "name": "Book Metadata",
      "description": "Endpoints for managing book metadata, covers, and metadata operations"
    },
    {
      "name": "Send Email",
      "description": "Endpoints for sending books via email"
    },
    {
      "name": "Mobile Shelves",
      "description": "Mobile-optimized endpoints for shelf operations"
    },
    {
      "name": "Book Reviews",
      "description": "Endpoints for managing book reviews"
    },
    {
      "name": "Shelves",
      "description": "Endpoints for managing shelves and their books"
    },
    {
      "name": "File Move",
      "description": "Endpoints for moving files within the library"
    },
    {
      "name": "OPDS",
      "description": "Endpoints for OPDS catalog feeds, book downloads, covers, and search description"
    },
    {
      "name": "Authentication",
      "description": "Endpoints for user authentication, registration, and token management"
    },
    {
      "name": "Book Notes V2",
      "description": "Endpoints for managing CFI-based book notes with text selection context"
    },
    {
      "name": "Mobile Libraries",
      "description": "Mobile-optimized endpoints for library operations"
    },
    {
      "name": "Public App Settings",
      "description": "Endpoints for retrieving public application settings"
    },
    {
      "name": "File Upload",
      "description": "Endpoints for uploading files and books"
    },
    {
      "name": "Kobo Integration",
      "description": "Endpoints for Kobo device and library integration"
    },
    {
      "name": "Book Media",
      "description": "Endpoints for retrieving book media such as covers, thumbnails, and pages"
    }
  ],
  "paths": {
    "/api/kobo/{token}": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Catch-all for Kobo API",
        "description": "Catch-all endpoint for unhandled Kobo API requests.",
        "operationId": "catchAll",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Request proxied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonNode"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Catch-all for Kobo API",
        "description": "Catch-all endpoint for unhandled Kobo API requests.",
        "operationId": "catchAll_2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Request proxied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonNode"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Catch-all for Kobo API",
        "description": "Catch-all endpoint for unhandled Kobo API requests.",
        "operationId": "catchAll_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Request proxied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonNode"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Catch-all for Kobo API",
        "description": "Catch-all endpoint for unhandled Kobo API requests.",
        "operationId": "catchAll_3",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Request proxied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonNode"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Catch-all for Kobo API",
        "description": "Catch-all endpoint for unhandled Kobo API requests.",
        "operationId": "catchAll_4",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Request proxied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonNode"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/v2/email/recipients/{id}": {
      "get": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Get an email recipient by ID",
        "description": "Retrieve details of a specific email recipient.",
        "operationId": "getEmailRecipient",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email recipient",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email recipient returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecipientV2"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Update an email recipient",
        "description": "Update an existing email recipient configuration.",
        "operationId": "updateEmailRecipient",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email recipient",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailRecipientRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email recipient updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecipientV2"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Delete an email recipient",
        "description": "Delete a specific email recipient configuration.",
        "operationId": "deleteEmailRecipient",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email recipient",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Email recipient deleted successfully"
          }
        }
      }
    },
    "/api/v2/email/providers/{id}": {
      "get": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Get an email provider by ID",
        "description": "Retrieve details of a specific email provider.",
        "operationId": "getEmailProvider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email provider",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Email provider returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailProviderV2"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Update an email provider",
        "description": "Update an existing email provider configuration.",
        "operationId": "updateEmailProvider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email provider",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email provider updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailProviderV2"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Delete an email provider",
        "description": "Delete a specific email provider configuration.",
        "operationId": "deleteEmailProvider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email provider",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Email provider deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/book-notes/{noteId}": {
      "get": {
        "tags": [
          "Book Notes V2"
        ],
        "summary": "Get a specific note",
        "description": "Retrieve a specific note by its ID.",
        "operationId": "getNoteById",
        "parameters": [
          {
            "name": "noteId",
            "in": "path",
            "description": "ID of the note",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Note returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookNoteV2"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Book Notes V2"
        ],
        "summary": "Update a note",
        "description": "Update an existing note's content or color.",
        "operationId": "updateNote",
        "parameters": [
          {
            "name": "noteId",
            "in": "path",
            "description": "ID of the note to update",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBookNoteV2Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Note updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookNoteV2"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Book Notes V2"
        ],
        "summary": "Delete a note",
        "description": "Delete a specific note by its ID.",
        "operationId": "deleteNote",
        "parameters": [
          {
            "name": "noteId",
            "in": "path",
            "description": "ID of the note to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Note deleted successfully"
          }
        }
      }
    },
    "/api/v1/users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get user by ID",
        "description": "Retrieve a user's profile by their ID.",
        "operationId": "getUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User profile returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookLoreUser"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookLoreUser"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update user",
        "description": "Update a user's profile by their ID. Requires admin.",
        "operationId": "updateUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "User updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookLoreUser"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete user",
        "description": "Delete a user by their ID. Requires admin.",
        "operationId": "deleteUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User deleted successfully"
          }
        }
      }
    },
    "/api/v1/users/{id}/settings": {
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update user settings",
        "description": "Update settings for the current user.",
        "operationId": "updateUserSetting",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the user",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserSettingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "User settings updated successfully"
          }
        }
      }
    },
    "/api/v1/users/change-user-password": {
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Change another user's password",
        "description": "Change the password for another user. Requires admin.",
        "operationId": "changeUserPassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangeUserPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/change-password": {
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Change password",
        "description": "Change the password for the current user.",
        "operationId": "changePassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/shelves/{shelfId}": {
      "get": {
        "tags": [
          "Shelves"
        ],
        "summary": "Get a shelf by ID",
        "description": "Retrieve details of a specific shelf by its ID.",
        "operationId": "getShelf",
        "parameters": [
          {
            "name": "shelfId",
            "in": "path",
            "description": "ID of the shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Shelf details returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Shelf"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Shelf"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Shelves"
        ],
        "summary": "Update a shelf",
        "description": "Update an existing shelf by its ID.",
        "operationId": "updateShelf",
        "parameters": [
          {
            "name": "shelfId",
            "in": "path",
            "description": "ID of the shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelfCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Shelf updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Shelf"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Shelves"
        ],
        "summary": "Delete a shelf",
        "description": "Delete a shelf by its ID.",
        "operationId": "deleteShelf",
        "parameters": [
          {
            "name": "shelfId",
            "in": "path",
            "description": "ID of the shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Shelf deleted successfully"
          }
        }
      }
    },
    "/api/v1/settings": {
      "get": {
        "tags": [
          "App Settings"
        ],
        "summary": "Get application settings",
        "description": "Retrieve all application settings.",
        "operationId": "getAppSettings",
        "responses": {
          "200": {
            "description": "Application settings returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AppSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "App Settings"
        ],
        "summary": "Update application settings",
        "description": "Update one or more application settings.",
        "operationId": "updateSettings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "List of settings to update",
                "items": {
                  "$ref": "#/components/schemas/SettingRequest"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully"
          },
          "400": {
            "description": "Invalid request"
          }
        }
      }
    },
    "/api/v1/libraries/{libraryId}": {
      "get": {
        "tags": [
          "Libraries"
        ],
        "summary": "Get a library by ID",
        "description": "Retrieve details of a specific library by its ID.",
        "operationId": "getLibrary",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Library details returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Library"
                }
              }
            }
          },
          "404": {
            "description": "Library not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Library"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Libraries"
        ],
        "summary": "Update a library",
        "description": "Update an existing library. Requires admin or manipulation permission.",
        "operationId": "updateLibrary",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLibraryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Library updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Library"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Libraries"
        ],
        "summary": "Delete a library",
        "description": "Delete a library by its ID. Requires admin or manipulation permission.",
        "operationId": "deleteLibrary",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Library deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/libraries/{libraryId}/refresh": {
      "put": {
        "tags": [
          "Libraries"
        ],
        "summary": "Rescan a library",
        "description": "Rescan a library to refresh its contents. Requires admin or manipulation permission.",
        "operationId": "rescanLibrary",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Library rescanned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/koreader-users/me": {
      "get": {
        "tags": [
          "KoReader Users"
        ],
        "summary": "Get current KoReader user",
        "description": "Retrieve the current KoReader user profile.",
        "operationId": "getCurrentUser",
        "responses": {
          "200": {
            "description": "User profile returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoreaderUser"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "KoReader Users"
        ],
        "summary": "Upsert current KoReader user",
        "description": "Create or update the current KoReader user profile.",
        "operationId": "upsertCurrentUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "User data map"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "User profile upserted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoreaderUser"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kobo-settings": {
      "get": {
        "tags": [
          "Kobo Settings"
        ],
        "summary": "Get Kobo sync settings",
        "description": "Retrieve the current user's Kobo sync settings.",
        "operationId": "getSettings",
        "responses": {
          "200": {
            "description": "Settings returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboSyncSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Kobo Settings"
        ],
        "summary": "Update Kobo settings",
        "description": "Update Kobo sync settings for the current user. Requires sync permission or admin.",
        "operationId": "updateSettings_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboSyncSettings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboSyncSettings"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kobo-settings/token": {
      "put": {
        "tags": [
          "Kobo Settings"
        ],
        "summary": "Create or update Kobo token",
        "description": "Create or update the Kobo sync token for the current user. Requires sync permission or admin.",
        "operationId": "createOrUpdateToken",
        "responses": {
          "200": {
            "description": "Token created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboSyncSettings"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/hardcover-sync-settings": {
      "get": {
        "tags": [
          "Hardcover Sync Settings"
        ],
        "summary": "Get Hardcover sync settings",
        "description": "Retrieve the current user's Hardcover sync settings.",
        "operationId": "getSettings_1",
        "responses": {
          "200": {
            "description": "Settings returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardcoverSyncSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Hardcover Sync Settings"
        ],
        "summary": "Update Hardcover sync settings",
        "description": "Update the current user's Hardcover sync settings.",
        "operationId": "updateSettings_2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HardcoverSyncSettings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardcoverSyncSettings"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/{bookId}/viewer-setting": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get viewer settings",
        "description": "Retrieve viewer settings for a specific book file.",
        "operationId": "getBookViewerSettings",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookFileId",
            "in": "query",
            "description": "ID of the book file",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Viewer settings returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookViewerSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Books"
        ],
        "summary": "Update viewer settings",
        "description": "Update viewer settings for a specific book.",
        "operationId": "updateBookViewerSettings",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookViewerSettings"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Viewer settings updated successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/metadata": {
      "put": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Update book metadata",
        "description": "Update metadata for a book. Requires metadata edit permission or admin.",
        "operationId": "updateMetadata",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "mergeCategories",
            "in": "query",
            "description": "Merge categories",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MetadataUpdateWrapper"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Metadata updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookMetadata"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/personal-rating": {
      "put": {
        "tags": [
          "Books"
        ],
        "summary": "Update personal rating",
        "description": "Update the personal rating for one or more books.",
        "operationId": "updatePersonalRating",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PersonalRatingUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Personal rating updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PersonalRatingUpdateResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/metadata/toggle-field-locks": {
      "put": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Toggle field locks for metadata",
        "description": "Toggle field locks for book metadata. Requires metadata edit permission or admin.",
        "operationId": "toggleFieldLocks",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleFieldLocksRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Field locks toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookMetadata"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/metadata/toggle-all-lock": {
      "put": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Toggle all metadata locks",
        "description": "Toggle all metadata locks for books. Requires metadata edit permission or admin.",
        "operationId": "toggleAllMetadata",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ToggleAllLockRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Metadata locks toggled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookMetadata"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/bulk-edit-metadata": {
      "put": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Bulk edit book metadata",
        "description": "Bulk update metadata for multiple books. Requires metadata edit permission or admin.",
        "operationId": "bulkEditMetadata",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkMetadataUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Bulk metadata updated successfully"
          }
        }
      }
    },
    "/api/v1/bookmarks/{bookmarkId}": {
      "get": {
        "tags": [
          "Bookmarks"
        ],
        "summary": "Get a specific bookmark",
        "description": "Retrieve a specific bookmark by its ID.",
        "operationId": "getBookmarkById",
        "parameters": [
          {
            "name": "bookmarkId",
            "in": "path",
            "description": "ID of the bookmark",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bookmark returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookMark"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Bookmarks"
        ],
        "summary": "Update a bookmark",
        "description": "Update an existing bookmark's properties (title, location, color, etc.).",
        "operationId": "updateBookmark",
        "parameters": [
          {
            "name": "bookmarkId",
            "in": "path",
            "description": "ID of the bookmark to update",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBookMarkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Bookmark updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookMark"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Bookmarks"
        ],
        "summary": "Delete a bookmark",
        "description": "Delete a specific bookmark by its ID.",
        "operationId": "deleteBookmark",
        "parameters": [
          {
            "name": "bookmarkId",
            "in": "path",
            "description": "ID of the bookmark to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Bookmark deleted successfully"
          }
        }
      }
    },
    "/api/v1/annotations/{annotationId}": {
      "get": {
        "tags": [
          "Annotations"
        ],
        "summary": "Get a specific annotation",
        "description": "Retrieve a specific annotation by its ID.",
        "operationId": "getAnnotationById",
        "parameters": [
          {
            "name": "annotationId",
            "in": "path",
            "description": "ID of the annotation",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Annotation returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Annotation"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Annotations"
        ],
        "summary": "Update an annotation",
        "description": "Update an existing annotation's properties (color, style, note).",
        "operationId": "updateAnnotation",
        "parameters": [
          {
            "name": "annotationId",
            "in": "path",
            "description": "ID of the annotation to update",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAnnotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Annotation updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Annotation"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Annotations"
        ],
        "summary": "Delete an annotation",
        "description": "Delete a specific annotation by its ID.",
        "operationId": "deleteAnnotation",
        "parameters": [
          {
            "name": "annotationId",
            "in": "path",
            "description": "ID of the annotation to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Annotation deleted successfully"
          }
        }
      }
    },
    "/api/mobile/v1/books/{bookId}/status": {
      "put": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Update book read status",
        "description": "Update the read status for a book.",
        "operationId": "updateStatus",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Status updated successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Book not found"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/mobile/v1/books/{bookId}/rating": {
      "put": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Update book personal rating",
        "description": "Update the personal rating for a book (1-5).",
        "operationId": "updateRating",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRatingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Rating updated successfully"
          },
          "403": {
            "description": "Access denied"
          },
          "404": {
            "description": "Book not found"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/koreader/syncs/progress": {
      "put": {
        "tags": [
          "KoReader"
        ],
        "summary": "Update KoReader progress",
        "description": "Update reading progress for a book.",
        "operationId": "updateProgress",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoreaderProgress"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Progress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/kobo/{token}/v1/library/{bookId}/state": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get reading state",
        "description": "Retrieve the reading state for a book.",
        "operationId": "getState",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reading state returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Update reading state",
        "description": "Update the reading state for a book.",
        "operationId": "updateState",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KoboReadingStateWrapper"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Reading state updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v2/opds-users": {
      "get": {
        "tags": [
          "OPDS Users"
        ],
        "summary": "Get all OPDS users",
        "description": "Retrieve a list of all OPDS users.",
        "operationId": "getUsers",
        "responses": {
          "200": {
            "description": "List of OPDS users returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OpdsUserV2"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "OPDS Users"
        ],
        "summary": "Create OPDS user",
        "description": "Create a new OPDS user.",
        "operationId": "createUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpdsUserV2CreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OPDS user created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpdsUserV2"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/email/recipients": {
      "get": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Get all email recipients",
        "description": "Retrieve a list of all configured email recipients.",
        "operationId": "getEmailRecipients",
        "responses": {
          "200": {
            "description": "Email recipients returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EmailRecipientV2"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Create an email recipient",
        "description": "Create a new email recipient configuration.",
        "operationId": "createEmailRecipient",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailRecipientRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email recipient created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailRecipientV2"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/email/providers": {
      "get": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Get all email providers",
        "description": "Retrieve a list of all configured email providers.",
        "operationId": "getEmailProviders",
        "responses": {
          "200": {
            "description": "Email providers returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EmailProviderV2"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Create an email provider",
        "description": "Create a new email provider configuration.",
        "operationId": "createEmailProvider",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEmailProviderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email provider created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailProviderV2"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/email/book": {
      "post": {
        "tags": [
          "Send Email"
        ],
        "summary": "Send book by email",
        "description": "Send a book to a recipient via email. Requires email permission or admin.",
        "operationId": "sendEmail",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendBookByEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Book sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/email/book/{bookId}": {
      "post": {
        "tags": [
          "Send Email"
        ],
        "summary": "Quick send book by email",
        "description": "Quickly send a book by its ID via email. Requires email permission or admin.",
        "operationId": "emailBookQuick",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book to send",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Book sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v2/book-notes": {
      "post": {
        "tags": [
          "Book Notes V2"
        ],
        "summary": "Create a note",
        "description": "Create a new note at a specific location in a book.",
        "operationId": "createNote",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBookNoteV2Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Note created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookNoteV2"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks/start": {
      "post": {
        "tags": [
          "task-controller"
        ],
        "operationId": "startTask",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCreateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/shelves": {
      "get": {
        "tags": [
          "Shelves"
        ],
        "summary": "Get all shelves",
        "description": "Retrieve a list of all shelves.",
        "operationId": "getAllShelves",
        "responses": {
          "200": {
            "description": "Shelves returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Shelf"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Shelves"
        ],
        "summary": "Create a shelf",
        "description": "Create a new shelf.",
        "operationId": "createShelf",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelfCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Shelf created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Shelf"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup": {
      "post": {
        "tags": [
          "Setup"
        ],
        "summary": "Setup first user",
        "description": "Provision the initial admin user during setup.",
        "operationId": "setupFirstUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitialUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Admin user created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reviews/book/{bookId}/refresh": {
      "post": {
        "tags": [
          "Book Reviews"
        ],
        "summary": "Refresh reviews for a book",
        "description": "Refresh and retrieve reviews for a specific book. Requires metadata edit permission or admin.",
        "operationId": "refreshReviews",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookReview"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/reading-sessions": {
      "post": {
        "tags": [
          "reading-session-controller"
        ],
        "summary": "Record a reading session",
        "description": "Receive telemetry from the reader client and persist or log the session.",
        "operationId": "recordReadingSession",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadingSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Reading session accepted"
          },
          "400": {
            "description": "Invalid payload"
          }
        }
      }
    },
    "/api/v1/libraries": {
      "get": {
        "tags": [
          "Libraries"
        ],
        "summary": "Get all libraries",
        "description": "Retrieve a list of all libraries.",
        "operationId": "getLibraries",
        "responses": {
          "200": {
            "description": "Libraries returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Library"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Libraries"
        ],
        "summary": "Create a library",
        "description": "Create a new library. Requires admin or manipulation permission.",
        "operationId": "createLibrary",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLibraryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Library created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Library"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/libraries/scan": {
      "post": {
        "tags": [
          "Libraries"
        ],
        "summary": "Scan library paths",
        "description": "Scan the provided library paths and return a count of processable files. Requires admin or manipulation permission.",
        "operationId": "scanLibraryPaths",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLibraryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Processable files count returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/icons": {
      "get": {
        "tags": [
          "Icons"
        ],
        "summary": "Get paginated icon names",
        "description": "Retrieve a paginated list of icon names (default 50 per page).",
        "operationId": "getIconNames",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Icon names retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageString"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Icons"
        ],
        "summary": "Save an SVG icon",
        "description": "Saves an SVG icon to the system.",
        "operationId": "saveSvgIcon",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SvgIconCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "SVG icon saved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/icons/batch": {
      "post": {
        "tags": [
          "Icons"
        ],
        "summary": "Save multiple SVG icons",
        "description": "Saves multiple SVG icons to the system in batch.",
        "operationId": "saveBatchSvgIcons",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SvgIconBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Batch save completed with detailed results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SvgIconBatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/upload": {
      "post": {
        "tags": [
          "File Upload"
        ],
        "summary": "Upload a file",
        "description": "Upload a file to a specific library and path. Requires upload permission or admin.",
        "operationId": "uploadFile",
        "parameters": [
          {
            "name": "libraryId",
            "in": "query",
            "description": "Library ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pathId",
            "in": "query",
            "description": "Path ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "File to upload"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "File uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/upload/bookdrop": {
      "post": {
        "tags": [
          "File Upload"
        ],
        "summary": "Upload a book via BookDrop",
        "description": "Upload a book using BookDrop. Requires upload permission or admin.",
        "operationId": "uploadFile_1",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Book file to upload"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Book uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/move": {
      "post": {
        "tags": [
          "File Move"
        ],
        "summary": "Move files",
        "description": "Bulk move files to a different location within the library.",
        "operationId": "moveFiles",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FileMoveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Files moved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/custom-fonts/upload": {
      "post": {
        "tags": [
          "Custom Fonts"
        ],
        "summary": "Upload a custom font",
        "description": "Upload a custom font file (.ttf, .otf, .woff, .woff2) for the authenticated user",
        "operationId": "uploadFont",
        "parameters": [
          {
            "name": "fontName",
            "in": "query",
            "description": "Font display name",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Font file (.ttf, .otf, .woff, .woff2)"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Font uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomFontDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file or quota exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CustomFontDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/{targetBookId}/attach-file": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Attach book files",
        "description": "Attach book files from single-file source books to a target book as alternative formats.",
        "operationId": "attachBookFiles",
        "parameters": [
          {
            "name": "targetBookId",
            "in": "path",
            "description": "ID of the target book to attach the files to",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttachBookFileRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Book files attached successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - books must be in same library, sources must have exactly one file each",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - requires library management permission",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "404": {
            "description": "Book not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/{bookId}/regenerate-cover": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Regenerate cover for a book",
        "description": "Regenerate cover for a specific book. Requires metadata edit permission or admin.",
        "operationId": "regenerateCovers",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Cover regenerated successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/metadata/prospective": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Get prospective metadata for a book",
        "description": "Fetch prospective metadata for a book by its ID. Requires metadata edit permission or admin.",
        "operationId": "getMetadataList",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FetchMetadataRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prospective metadata returned successfully",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookMetadata"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/metadata/covers": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Get cover images for a book",
        "description": "Fetch cover images for a book.",
        "operationId": "getImages",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoverFetchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Cover images returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CoverImage"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/metadata/cover/upload": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Upload cover image from file",
        "description": "Upload a cover image for a book from a file. Requires metadata edit permission or admin.",
        "operationId": "uploadCoverFromFile",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Cover image file"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cover image uploaded successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/metadata/cover/from-url": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Upload cover image from URL",
        "description": "Upload a cover image for a book from a URL. Requires metadata edit permission or admin.",
        "operationId": "uploadCoverFromUrl",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "URL body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Cover image uploaded successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/generate-custom-cover": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Generate custom cover for a book",
        "description": "Generate a custom cover for a specific book based on its metadata. Requires metadata edit permission or admin.",
        "operationId": "generateCustomCover",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Custom cover generated successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/files": {
      "get": {
        "tags": [
          "additional-file-controller"
        ],
        "operationId": "getAdditionalFiles",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "isBook",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookFile"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "additional-file-controller"
        ],
        "operationId": "uploadAdditionalFile",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "isBook",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "PDF",
                "EPUB",
                "CBX",
                "FB2",
                "MOBI",
                "AZW3",
                "AUDIOBOOK"
              ]
            }
          },
          {
            "name": "description",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookFile"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/status": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Update read status",
        "description": "Update the read status for one or more books.",
        "operationId": "updateReadStatus",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadStatusUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Read status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookStatusUpdateResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/shelves": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Assign books to shelves",
        "description": "Assign or unassign books to/from shelves.",
        "operationId": "addBookToShelf",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShelvesAssignmentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Books assigned/unassigned to shelves successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/reset-progress": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Reset reading progress",
        "description": "Reset the reading progress for one or more books.",
        "operationId": "resetProgress",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Type of progress reset",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "BOOKLORE",
                "KOREADER",
                "KOBO"
              ]
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "List of book IDs to reset progress for",
                "items": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Progress reset successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookStatusUpdateResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "No book IDs provided",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookStatusUpdateResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/reset-personal-rating": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Reset personal rating",
        "description": "Reset the personal rating for one or more books.",
        "operationId": "resetPersonalRating",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "description": "List of book IDs to reset personal rating for",
                "items": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Personal rating reset successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PersonalRatingUpdateResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "No book IDs provided",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PersonalRatingUpdateResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/regenerate-covers": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Regenerate all covers",
        "description": "Regenerate covers for all books. Requires metadata edit permission or admin.",
        "operationId": "regenerateCovers_1",
        "responses": {
          "204": {
            "description": "Covers regenerated successfully"
          }
        }
      }
    },
    "/api/v1/books/progress": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Update read progress",
        "description": "Update the read progress for a book.",
        "operationId": "addBookToProgress",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReadProgressRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Read progress updated successfully"
          }
        }
      }
    },
    "/api/v1/books/physical": {
      "post": {
        "tags": [
          "Books"
        ],
        "summary": "Create a physical book",
        "description": "Create a physical book without digital files. Requires library management permission or admin.",
        "operationId": "createPhysicalBook",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePhysicalBookRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Physical book created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "404": {
            "description": "Library not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/metadata/recalculate-match-scores": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Recalculate metadata match scores",
        "description": "Recalculate match scores for all metadata. Requires admin.",
        "operationId": "recalculateMatchScores",
        "responses": {
          "204": {
            "description": "Match scores recalculated successfully"
          }
        }
      }
    },
    "/api/v1/books/metadata/manage/delete": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Delete metadata values",
        "description": "Delete metadata values. Requires metadata edit permission or admin.",
        "operationId": "deleteMetadata",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeleteMetadataRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Metadata deleted successfully"
          }
        }
      }
    },
    "/api/v1/books/metadata/manage/consolidate": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Consolidate metadata",
        "description": "Merge metadata values. Requires metadata edit permission or admin.",
        "operationId": "mergeMetadata",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeMetadataRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Metadata consolidated successfully"
          }
        }
      }
    },
    "/api/v1/books/bulk-upload-cover": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Upload cover image for multiple books",
        "description": "Upload a cover image to apply to multiple books. Requires metadata edit permission or admin.",
        "operationId": "bulkUploadCover",
        "parameters": [
          {
            "name": "bookIds",
            "in": "query",
            "description": "Comma-separated book IDs",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int64"
              },
              "uniqueItems": true
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Cover image file"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Cover upload started successfully"
          }
        }
      }
    },
    "/api/v1/books/bulk-regenerate-covers": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Regenerate covers for selected books",
        "description": "Regenerate covers for a list of books. Requires metadata edit permission or admin.",
        "operationId": "regenerateCoversForBooks",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkBookIdsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Cover regeneration started successfully"
          }
        }
      }
    },
    "/api/v1/books/bulk-generate-custom-covers": {
      "post": {
        "tags": [
          "Book Metadata"
        ],
        "summary": "Generate custom covers for selected books",
        "description": "Generate custom covers for a list of books. Requires metadata edit permission or admin.",
        "operationId": "generateCustomCoversForBooks",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkBookIdsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Custom cover generation started successfully"
          }
        }
      }
    },
    "/api/v1/bookmarks": {
      "post": {
        "tags": [
          "Bookmarks"
        ],
        "summary": "Create a bookmark",
        "description": "Create a new bookmark for a book.",
        "operationId": "createBookmark",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBookMarkRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Bookmark created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookMark"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bookdrop/rescan": {
      "post": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Rescan bookdrop folder",
        "description": "Trigger a rescan of the bookdrop folder for new files.",
        "operationId": "rescanBookdrop",
        "responses": {
          "200": {
            "description": "Bookdrop folder rescanned successfully"
          }
        }
      }
    },
    "/api/v1/bookdrop/imports/finalize": {
      "post": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Finalize bookdrop import",
        "description": "Finalize the import of selected bookdrop files.",
        "operationId": "finalizeImport",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookdropFinalizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Import finalized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookdropFinalizeResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bookdrop/files/extract-pattern": {
      "post": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Extract metadata from filenames using pattern",
        "description": "Parse filenames of selected files using a pattern to extract metadata fields.",
        "operationId": "extractFromPattern",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookdropPatternExtractRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Pattern extraction completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookdropPatternExtractResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bookdrop/files/discard": {
      "post": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Discard selected bookdrop files",
        "description": "Discard selected bookdrop files based on selection criteria.",
        "operationId": "discardSelectedFiles",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookdropSelectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Files discarded successfully"
          }
        }
      }
    },
    "/api/v1/bookdrop/files/bulk-edit": {
      "post": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Bulk edit metadata for selected files",
        "description": "Apply metadata changes to multiple selected files at once.",
        "operationId": "bulkEditMetadata_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BookdropBulkEditRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Bulk edit completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookdropBulkEditResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/book-notes": {
      "post": {
        "tags": [
          "Book Notes"
        ],
        "summary": "Create or update a note",
        "description": "Create a new note or update an existing note for a book.",
        "operationId": "createNote_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBookNoteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Note created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookNote"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Register a new user",
        "description": "Register a new user. Only admins can register users.",
        "operationId": "registerUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "User registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh JWT token",
        "description": "Refresh the JWT token using a valid refresh token.",
        "operationId": "refreshToken",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mobile/oidc/callback": {
      "post": {
        "tags": [
          "Mobile OIDC"
        ],
        "summary": "Exchange OIDC authorization code for tokens",
        "description": "Exchanges an OIDC authorization code for Booklore JWT tokens. The mobile app should call this endpoint after receiving the authorization code from the OIDC provider. This endpoint will exchange the code for OIDC tokens, validate them, provision the user if needed, and return Booklore JWT tokens.",
        "operationId": "handleOidcCallback",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "description": "Authorization code from OIDC provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code_verifier",
            "in": "query",
            "description": "PKCE code verifier used when initiating the auth request",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "description": "Redirect URI that was used in the authorization request",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tokens issued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or OIDC error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "403": {
            "description": "OIDC is not enabled",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login user",
        "description": "Authenticate a user and return JWT tokens.",
        "operationId": "loginUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "User authenticated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/annotations": {
      "post": {
        "tags": [
          "Annotations"
        ],
        "summary": "Create an annotation",
        "description": "Create a new annotation (highlight, underline, etc.) for a book.",
        "operationId": "createAnnotation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAnnotationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Annotation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Annotation"
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/tasks/{taskId}/proposals/{proposalId}/status": {
      "post": {
        "tags": [
          "Metadata Tasks"
        ],
        "summary": "Update proposal status",
        "description": "Update the status of a proposal for a metadata task. Requires metadata edit permission or admin.",
        "operationId": "updateProposalStatus",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "proposalId",
            "in": "path",
            "description": "Proposal ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "New status",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Proposal status updated successfully"
          }
        }
      }
    },
    "/api/magic-shelves": {
      "get": {
        "tags": [
          "Magic Shelves"
        ],
        "summary": "Get all magic shelves for user",
        "description": "Retrieve all magic shelves for the current user.",
        "operationId": "getAllForUser",
        "responses": {
          "200": {
            "description": "Magic shelves returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MagicShelf"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Magic Shelves"
        ],
        "summary": "Create or update a magic shelf",
        "description": "Create or update a magic shelf for the user.",
        "operationId": "createUpdateShelf",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MagicShelf"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Magic shelf created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MagicShelf"
                }
              }
            }
          }
        }
      }
    },
    "/api/koreader/users/create": {
      "post": {
        "tags": [
          "KoReader"
        ],
        "summary": "Create KoReader user (disabled)",
        "description": "Attempt to register a user via KoReader (always forbidden).",
        "operationId": "createUser_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {},
                "description": "User data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "403": {
            "description": "User registration forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/kobo/{token}/v1/auth/device": {
      "post": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Authenticate Kobo device",
        "description": "Authenticate a Kobo device.",
        "operationId": "authenticateDevice",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JsonNode"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Device authenticated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboAuthentication"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/analytics/gettests": {
      "post": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get Kobo test analytics",
        "description": "Get test analytics for Kobo.",
        "operationId": "getTests",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Test analytics request body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Test analytics returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/v2/opds-users/{id}": {
      "delete": {
        "tags": [
          "OPDS Users"
        ],
        "summary": "Delete OPDS user",
        "description": "Delete an OPDS user by ID.",
        "operationId": "deleteUser_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the OPDS user to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "OPDS user deleted successfully"
          }
        }
      },
      "patch": {
        "tags": [
          "OPDS Users"
        ],
        "summary": "Update OPDS user",
        "description": "Update an OPDS user's settings by ID.",
        "operationId": "updateUser_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the OPDS user to update",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OpdsUserV2UpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OPDS user updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpdsUserV2"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/email/recipients/{id}/set-default": {
      "patch": {
        "tags": [
          "Email Recipients"
        ],
        "summary": "Set default email recipient",
        "description": "Set a specific email recipient as the default.",
        "operationId": "setDefaultEmailRecipient",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email recipient",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Default email recipient set successfully"
          }
        }
      }
    },
    "/api/v2/email/providers/{id}/set-default": {
      "patch": {
        "tags": [
          "Email Providers"
        ],
        "summary": "Set default email provider",
        "description": "Set a specific email provider as the default.",
        "operationId": "setDefaultEmailProvider",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the email provider",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Default email provider set successfully"
          }
        }
      }
    },
    "/api/v1/tasks/{taskType}/cron": {
      "patch": {
        "tags": [
          "task-controller"
        ],
        "operationId": "patchCronConfig",
        "parameters": [
          {
            "name": "taskType",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "REFRESH_LIBRARY_METADATA",
                "UPDATE_BOOK_RECOMMENDATIONS",
                "CLEANUP_DELETED_BOOKS",
                "SYNC_LIBRARY_FILES",
                "CLEANUP_TEMP_METADATA",
                "REFRESH_METADATA_MANUAL"
              ]
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCronConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CronConfig"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/libraries/{libraryId}/file-naming-pattern": {
      "patch": {
        "tags": [
          "Libraries"
        ],
        "summary": "Set file naming pattern",
        "description": "Set the file naming pattern for a library. Requires admin or manipulation permission.",
        "operationId": "setFileNamingPattern",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "File naming pattern body"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "File naming pattern updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Library"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/koreader-users/me/sync": {
      "patch": {
        "tags": [
          "KoReader Users"
        ],
        "summary": "Toggle KoReader sync",
        "description": "Enable or disable KoReader sync for the current user.",
        "operationId": "updateSyncEnabled",
        "parameters": [
          {
            "name": "enabled",
            "in": "query",
            "description": "Enable or disable sync",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Sync toggled successfully"
          }
        }
      }
    },
    "/api/v1/koreader-users/me/sync-progress-with-booklore": {
      "patch": {
        "tags": [
          "KoReader Users"
        ],
        "summary": "Toggle sync progress with Booklore reader",
        "description": "Enable or disable syncing reading progress with Booklore reader.",
        "operationId": "toggleSyncProgressWithBooklore",
        "parameters": [
          {
            "name": "enabled",
            "in": "query",
            "description": "Enable or disable sync progress",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Sync progress toggled successfully"
          }
        }
      }
    },
    "/komga/api/v2/users/me": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get current user details",
        "operationId": "getCurrentUser_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/series": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "List series",
        "operationId": "getAllSeries",
        "parameters": [
          {
            "name": "library_id",
            "in": "query",
            "description": "Library ID filter",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "unpaged",
            "in": "query",
            "description": "Return all books without paging",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/series/{seriesId}": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get series details",
        "operationId": "getSeries",
        "parameters": [
          {
            "name": "seriesId",
            "in": "path",
            "description": "Series ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/series/{seriesId}/thumbnail": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get series thumbnail",
        "operationId": "getSeriesThumbnail",
        "parameters": [
          {
            "name": "seriesId",
            "in": "path",
            "description": "Series ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/series/{seriesId}/books": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "List books in series",
        "operationId": "getSeriesBooks",
        "parameters": [
          {
            "name": "seriesId",
            "in": "path",
            "description": "Series ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "unpaged",
            "in": "query",
            "description": "Return all books without paging",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/libraries": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "List all libraries",
        "operationId": "getAllLibraries",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/libraries/{libraryId}": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get library details",
        "operationId": "getLibrary_1",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "Library ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/collections": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "List collections",
        "operationId": "getCollections",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "unpaged",
            "in": "query",
            "description": "Return all collections without paging",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/books": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "List books",
        "operationId": "getAllBooks",
        "parameters": [
          {
            "name": "library_id",
            "in": "query",
            "description": "Library ID filter",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/komga/api/v1/books/{bookId}": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get book details",
        "operationId": "getBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/komga/api/v1/books/{bookId}/thumbnail": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get book thumbnail",
        "operationId": "getBookThumbnail",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/komga/api/v1/books/{bookId}/pages": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get book pages metadata",
        "operationId": "getBookPages",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/komga/api/v1/books/{bookId}/pages/{pageNumber}": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Get book page image",
        "operationId": "getBookPage",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "description": "Page number",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "convert",
            "in": "query",
            "description": "Convert image format (e.g., 'png')",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/komga/api/v1/books/{bookId}/file": {
      "get": {
        "tags": [
          "Komga API"
        ],
        "summary": "Download book file",
        "operationId": "downloadBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v2/book-notes/book/{bookId}": {
      "get": {
        "tags": [
          "Book Notes V2"
        ],
        "summary": "Get notes for a book",
        "description": "Retrieve all notes for a specific book.",
        "operationId": "getNotesForBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notes returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookNoteV2"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/version": {
      "get": {
        "tags": [
          "Version"
        ],
        "summary": "Get application version",
        "description": "Retrieve the current application version.",
        "operationId": "getVersionInfo",
        "responses": {
          "200": {
            "description": "Version info returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/version/changelog": {
      "get": {
        "tags": [
          "Version"
        ],
        "summary": "Get changelog since current version",
        "description": "Retrieve the changelog since the current version.",
        "operationId": "getChangelogSinceCurrent",
        "responses": {
          "200": {
            "description": "Changelog returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReleaseNote"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get all users",
        "description": "Retrieve a list of all users. Requires admin.",
        "operationId": "getAllUsers",
        "responses": {
          "200": {
            "description": "Users returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookLoreUser"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get current user",
        "description": "Retrieve the profile of the currently authenticated user.",
        "operationId": "getMyself",
        "responses": {
          "200": {
            "description": "User profile returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookLoreUser"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/timeline": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get reading session timeline for a week",
        "description": "Returns reading sessions grouped by book for calendar timeline view",
        "operationId": "getTimelineForWeek",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "week",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Timeline data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionTimelineResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid week or year",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionTimelineResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionTimelineResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/speed": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get reading speed analysis",
        "description": "Returns average reading speed (progress per minute) over time for a specific year",
        "operationId": "getReadingSpeedForYear",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reading speed data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSpeedResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSpeedResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/peak-hours": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get peak reading hours",
        "description": "Returns reading activity distribution by hour of day. Can be filtered by year and/or month.",
        "operationId": "getPeakReadingHours",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Peak reading hours retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PeakReadingHoursResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PeakReadingHoursResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/heatmap": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get reading session heatmap for a year",
        "description": "Returns daily reading session counts for the authenticated user for a specific year",
        "operationId": "getHeatmapForYear",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Heatmap data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionHeatmapResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionHeatmapResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/heatmap/monthly": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get reading session heatmap for a month",
        "description": "Returns daily reading session counts for the authenticated user for a specific year and month",
        "operationId": "getHeatmapForMonth",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "month",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Heatmap data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionHeatmapResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ReadingSessionHeatmapResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/genres": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get genre statistics",
        "description": "Returns reading statistics grouped by book genres/categories",
        "operationId": "getGenreStatistics",
        "responses": {
          "200": {
            "description": "Genre statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GenreStatisticsResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/GenreStatisticsResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/favorite-days": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get favorite reading days",
        "description": "Returns reading activity distribution by day of week. Can be filtered by year and/or month.",
        "operationId": "getFavoriteReadingDays",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "month",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Favorite reading days retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FavoriteReadingDaysResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FavoriteReadingDaysResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/completion-timeline": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get completion timeline",
        "description": "Returns reading completion statistics over time with status breakdown for a specific year",
        "operationId": "getCompletionTimeline",
        "parameters": [
          {
            "name": "year",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Completion timeline retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CompletionTimelineResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CompletionTimelineResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user-stats/book-completion-heatmap": {
      "get": {
        "tags": [
          "user-stats-controller"
        ],
        "summary": "Get book completion heatmap",
        "description": "Returns monthly book completion counts for the last 10 years for the authenticated user",
        "operationId": "getBookCompletionHeatmap",
        "responses": {
          "200": {
            "description": "Book completion heatmap data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookCompletionHeatmapResponse"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookCompletionHeatmapResponse"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks": {
      "get": {
        "tags": [
          "task-controller"
        ],
        "operationId": "getAvailableTasks",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TaskInfo"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks/last": {
      "get": {
        "tags": [
          "task-controller"
        ],
        "operationId": "getLatestTasksForEachType",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasksHistoryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/shelves/{shelfId}/books": {
      "get": {
        "tags": [
          "Shelves"
        ],
        "summary": "Get books on a shelf",
        "description": "Retrieve all books assigned to a specific shelf.",
        "operationId": "getShelfBooks",
        "parameters": [
          {
            "name": "shelfId",
            "in": "path",
            "description": "ID of the shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/status": {
      "get": {
        "tags": [
          "Setup"
        ],
        "summary": "Get setup status",
        "description": "Check if initial setup has been completed.",
        "operationId": "getSetupStatus",
        "responses": {
          "200": {
            "description": "Setup status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reviews/book/{bookId}": {
      "get": {
        "tags": [
          "Book Reviews"
        ],
        "summary": "List reviews for a book",
        "description": "Retrieve all reviews for a specific book.",
        "operationId": "listByBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "exclusiveMinimum": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reviews returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookReview"
                  }
                }
              }
            }
          },
          "204": {
            "description": "No reviews found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookReview"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Book Reviews"
        ],
        "summary": "Delete all reviews for a book",
        "description": "Delete all reviews for a specific book. Requires metadata edit permission or admin.",
        "operationId": "deleteAllByBookId",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "All reviews deleted successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/reading-sessions/book/{bookId}": {
      "get": {
        "tags": [
          "reading-session-controller"
        ],
        "summary": "Get reading sessions for a book",
        "description": "Returns paginated reading sessions for a specific book for the authenticated user",
        "operationId": "getReadingSessionsForBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reading sessions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageReadingSessionResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageReadingSessionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Book not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageReadingSessionResponse"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/public-settings": {
      "get": {
        "tags": [
          "Public App Settings"
        ],
        "summary": "Get public app settings",
        "description": "Retrieve public application settings.",
        "operationId": "getPublicSettings",
        "responses": {
          "200": {
            "description": "Settings returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicAppSetting"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pdf/{bookId}/pages": {
      "get": {
        "tags": [
          "PDF Reader"
        ],
        "summary": "List pages in a PDF book",
        "description": "Retrieve a list of available page numbers for a PDF book.",
        "operationId": "listPages",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Page numbers returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "integer",
                    "format": "int32"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/pdf/{bookId}/info": {
      "get": {
        "tags": [
          "PDF Reader"
        ],
        "summary": "Get book info for a PDF book",
        "description": "Retrieve book information including page count and hierarchical outline/table of contents.",
        "operationId": "getBookInfo",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book info returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PdfBookInfo"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/path": {
      "get": {
        "tags": [
          "Library Paths"
        ],
        "summary": "Get folders at a path",
        "description": "Retrieve a list of folders at a given path. Requires admin or library manipulation permission.",
        "operationId": "getFolders",
        "parameters": [
          {
            "name": "path",
            "in": "query",
            "description": "Path to list folders at",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Folders returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS root catalog",
        "description": "Retrieve the OPDS root navigation feed.",
        "operationId": "getRootCatalog",
        "responses": {
          "200": {
            "description": "Root OPDS catalog returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/{bookId}/download": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Download book file",
        "description": "Download the book file by its ID. Optionally specify a fileId to download a specific format.",
        "operationId": "downloadBook_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book to download",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "fileId",
            "in": "query",
            "description": "Optional ID of a specific file format to download",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book file downloaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Book not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/opds/{bookId}/cover": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get book cover image",
        "description": "Retrieve the cover image for a book by its ID.",
        "operationId": "getBookCover",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cover image returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Book or cover not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/opds/surprise": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get surprise feed",
        "description": "Retrieve the OPDS feed for surprise/random books.",
        "operationId": "getSurpriseFeed",
        "responses": {
          "200": {
            "description": "Surprise feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=acquisition;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/shelves": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS shelves navigation",
        "description": "Retrieve the OPDS shelves navigation feed.",
        "operationId": "getShelvesNavigation",
        "responses": {
          "200": {
            "description": "Shelves navigation feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/series": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS series navigation",
        "description": "Retrieve the OPDS series navigation feed.",
        "operationId": "getSeriesNavigation",
        "responses": {
          "200": {
            "description": "Series navigation feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/search.opds": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS search description",
        "description": "Retrieve the OpenSearch description document for OPDS search.",
        "operationId": "getSearchDescription",
        "responses": {
          "200": {
            "description": "OpenSearch description returned successfully",
            "content": {
              "application/xml": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/recent": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get recent books feed",
        "description": "Retrieve the OPDS feed for recently added books.",
        "operationId": "getRecentBooks",
        "responses": {
          "200": {
            "description": "Recent books feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=acquisition;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/magic-shelves": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS magic shelves navigation",
        "description": "Retrieve the OPDS magic shelves navigation feed.",
        "operationId": "getMagicShelvesNavigation",
        "responses": {
          "200": {
            "description": "Magic shelves navigation feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/libraries": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS libraries navigation",
        "description": "Retrieve the OPDS libraries navigation feed.",
        "operationId": "getLibrariesNavigation",
        "responses": {
          "200": {
            "description": "Libraries navigation feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/catalog": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS catalog feed",
        "description": "Retrieve the OPDS acquisition catalog feed.",
        "operationId": "getCatalog",
        "responses": {
          "200": {
            "description": "Catalog feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=acquisition;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/opds/authors": {
      "get": {
        "tags": [
          "OPDS"
        ],
        "summary": "Get OPDS authors navigation",
        "description": "Retrieve the OPDS authors navigation feed.",
        "operationId": "getAuthorsNavigation",
        "responses": {
          "200": {
            "description": "Authors navigation feed returned successfully",
            "content": {
              "application/atom+xml;profile=opds-catalog;kind=navigation;charset=utf-8": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/media/bookdrop/{bookdropId}/cover": {
      "get": {
        "tags": [
          "Book Media"
        ],
        "summary": "Get bookdrop cover",
        "description": "Retrieve the cover image for a specific bookdrop file.",
        "operationId": "getBookdropCover",
        "parameters": [
          {
            "name": "bookdropId",
            "in": "path",
            "description": "ID of the bookdrop file",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bookdrop cover returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/media/book/{bookId}/thumbnail": {
      "get": {
        "tags": [
          "Book Media"
        ],
        "summary": "Get book thumbnail",
        "description": "Retrieve the thumbnail image for a specific book.",
        "operationId": "getBookThumbnail_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book thumbnail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/media/book/{bookId}/pdf/pages/{pageNumber}": {
      "get": {
        "tags": [
          "Book Media"
        ],
        "summary": "Get PDF page as image",
        "description": "Retrieve a specific page from a PDF book as an image.",
        "operationId": "getPdfPage",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "description": "Page number to retrieve",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "PDF page image returned successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/media/book/{bookId}/cover": {
      "get": {
        "tags": [
          "Book Media"
        ],
        "summary": "Get book cover",
        "description": "Retrieve the cover image for a specific book.",
        "operationId": "getBookCover_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book cover returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/media/book/{bookId}/cbx/pages/{pageNumber}": {
      "get": {
        "tags": [
          "Book Media"
        ],
        "summary": "Get CBX page as image",
        "description": "Retrieve a specific page from a CBX book as an image.",
        "operationId": "getCbxPage",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pageNumber",
            "in": "path",
            "description": "Page number to retrieve",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "CBX page image returned successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/libraries/{libraryId}/book": {
      "get": {
        "tags": [
          "Libraries"
        ],
        "summary": "Get all books from a library",
        "description": "Retrieve all books from a specific library.",
        "operationId": "getBooks",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/libraries/{libraryId}/book/{bookId}": {
      "get": {
        "tags": [
          "Libraries"
        ],
        "summary": "Get a book from a library",
        "description": "Retrieve a specific book from a library by its ID.",
        "operationId": "getBook_1",
        "parameters": [
          {
            "name": "libraryId",
            "in": "path",
            "description": "ID of the library",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/icons/{svgName}/content": {
      "get": {
        "tags": [
          "Icons"
        ],
        "summary": "Get SVG icon content",
        "description": "Retrieve the SVG content of an icon by its name.",
        "operationId": "getSvgIconContent",
        "parameters": [
          {
            "name": "svgName",
            "in": "path",
            "description": "SVG icon name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "SVG icon content retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/icons/all/content": {
      "get": {
        "tags": [
          "Icons"
        ],
        "summary": "Get all icon contents",
        "description": "Retrieve all SVG icons as a map of icon names to their content.",
        "operationId": "getAllIconsContent",
        "responses": {
          "200": {
            "description": "All icon contents retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/healthcheck": {
      "get": {
        "tags": [
          "Healthcheck"
        ],
        "summary": "Get a ping response",
        "description": "Check if the application is responding",
        "operationId": "getPing",
        "responses": {
          "200": {
            "description": "Health status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseHealthcheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/epub/{bookId}/info": {
      "get": {
        "tags": [
          "EPUB Reader"
        ],
        "summary": "Get EPUB book info",
        "description": "Retrieve parsed metadata, spine, manifest, and TOC for an EPUB book.",
        "operationId": "getBookInfo_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., EPUB)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book info returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EpubBookInfo"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/epub/{bookId}/file": {
      "get": {
        "tags": [
          "EPUB Reader"
        ],
        "summary": "Get file from EPUB",
        "description": "Retrieve a specific file from within the EPUB archive (HTML, CSS, images, fonts, etc.).",
        "operationId": "getFile",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., EPUB)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "File content returned successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/custom-fonts": {
      "get": {
        "tags": [
          "Custom Fonts"
        ],
        "summary": "Get all user's custom fonts",
        "description": "Retrieve all custom fonts for the authenticated user",
        "operationId": "getUserFonts",
        "responses": {
          "200": {
            "description": "Fonts retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CustomFontDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/custom-fonts/{fontId}/file": {
      "get": {
        "tags": [
          "Custom Fonts"
        ],
        "summary": "Get font file",
        "description": "Retrieve the font file for use in the browser",
        "operationId": "getFontFile",
        "parameters": [
          {
            "name": "fontId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Font file retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "Font not found or access denied",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cbx/{bookId}/pages": {
      "get": {
        "tags": [
          "CBX Reader"
        ],
        "summary": "List pages in a CBX book",
        "description": "Retrieve a list of available page numbers for a CBX book.",
        "operationId": "listPages_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Page numbers returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "integer",
                    "format": "int32"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/cbx/{bookId}/page-info": {
      "get": {
        "tags": [
          "CBX Reader"
        ],
        "summary": "Get page info for a CBX book",
        "description": "Retrieve page information including display names for a CBX book.",
        "operationId": "getPageInfo",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., PDF, CBX)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Page info returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CbxPageInfo"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get all books",
        "description": "Retrieve a list of all books. Optionally include descriptions.",
        "operationId": "getBooks_1",
        "parameters": [
          {
            "name": "withDescription",
            "in": "query",
            "description": "Include book descriptions in the response",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of books returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Books"
        ],
        "summary": "Delete books",
        "description": "Delete one or more books by their IDs. Requires admin or delete permission.",
        "operationId": "deleteBooks",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "description": "Set of book IDs to delete",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int64"
              },
              "uniqueItems": true
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookDeletionResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookDeletionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/{id}/recommendations": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get book recommendations",
        "description": "Get recommended books based on a specific book.",
        "operationId": "getRecommendations",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the book for recommendations",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of recommendations to return (max 25)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25,
              "maximum": 25,
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendations returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookRecommendation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/books/{bookId}": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get a book by ID",
        "description": "Retrieve details of a specific book by its ID.",
        "operationId": "getBook_2",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book to retrieve",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "withDescription",
            "in": "query",
            "description": "Include book description in the response",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book details returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          },
          "404": {
            "description": "Book not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Book"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/files/{fileId}/download": {
      "get": {
        "tags": [
          "additional-file-controller"
        ],
        "operationId": "downloadAdditionalFile",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "fileId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/download": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Download book",
        "description": "Download the book file. Requires download permission or admin.",
        "operationId": "downloadBook_2",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book to download",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book downloaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/download-all": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Download all book files",
        "description": "Download all files for a book as a ZIP archive. For single-file books, downloads the file directly. Requires download permission or admin.",
        "operationId": "downloadAllBookFiles",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Files downloaded successfully"
          },
          "403": {
            "description": "Forbidden"
          },
          "404": {
            "description": "Book not found"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/content": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get book content",
        "description": "Retrieve the binary content of a book for reading.",
        "operationId": "getBookContent",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., EPUB, PDF, MOBI)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book content returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/{bookId}/cbx/metadata/comicinfo": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get ComicInfo metadata",
        "description": "Retrieve ComicInfo metadata for a specific book.",
        "operationId": "getComicInfoMetadata",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ComicInfo metadata returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/books/batch": {
      "get": {
        "tags": [
          "Books"
        ],
        "summary": "Get books by IDs",
        "description": "Retrieve multiple books by their IDs. Optionally include descriptions.",
        "operationId": "getBooksByIds",
        "parameters": [
          {
            "name": "ids",
            "in": "query",
            "description": "Set of book IDs to retrieve",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int64"
              },
              "uniqueItems": true
            }
          },
          {
            "name": "withDescription",
            "in": "query",
            "description": "Include book descriptions in the response",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Book"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bookmarks/book/{bookId}": {
      "get": {
        "tags": [
          "Bookmarks"
        ],
        "summary": "Get bookmarks for a book",
        "description": "Retrieve all bookmarks for a specific book.",
        "operationId": "getBookmarksForBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bookmarks returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookMark"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/bookdrop/notification": {
      "get": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Get bookdrop notification summary",
        "description": "Retrieve a summary of bookdrop file notifications.",
        "operationId": "getSummary",
        "responses": {
          "200": {
            "description": "Notification summary returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BookdropFileNotification"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/bookdrop/files": {
      "get": {
        "tags": [
          "Bookdrop"
        ],
        "summary": "Get bookdrop files by status",
        "description": "Retrieve a paginated list of bookdrop files filtered by status.",
        "operationId": "getFilesByStatus",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Status to filter files by",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bookdrop files returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageBookdropFile"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/book-notes/book/{bookId}": {
      "get": {
        "tags": [
          "Book Notes"
        ],
        "summary": "Get notes for a book",
        "description": "Retrieve all notes for a specific book.",
        "operationId": "getNotesForBook_1",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Notes returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BookNote"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/authors/book/{bookId}": {
      "get": {
        "tags": [
          "Authors"
        ],
        "summary": "Get authors by book ID",
        "description": "Retrieve a list of authors for a specific book.",
        "operationId": "getAuthorsByBookId",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Authors returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/auth/remote": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Remote login",
        "description": "Authenticate a user using remote authentication headers.",
        "operationId": "loginRemote",
        "responses": {
          "200": {
            "description": "User authenticated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Remote authentication is disabled",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mobile/oidc/redirect": {
      "get": {
        "tags": [
          "Mobile OIDC"
        ],
        "summary": "Mobile OIDC redirect callback",
        "description": "Alternative endpoint that redirects to a mobile app URL scheme with tokens. Use this if your mobile app prefers to receive tokens via URL redirect rather than API response.",
        "operationId": "handleOidcRedirect",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "description": "Authorization code from OIDC provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code_verifier",
            "in": "query",
            "description": "PKCE code verifier used when initiating the auth request",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "redirect_uri",
            "in": "query",
            "description": "Redirect URI that was used in the authorization request",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "app_redirect_uri",
            "in": "query",
            "description": "Mobile app URL scheme to redirect to (e.g., booknexus://callback)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to mobile app with tokens"
          },
          "400": {
            "description": "Invalid request or OIDC error"
          },
          "403": {
            "description": "OIDC is not enabled"
          }
        }
      }
    },
    "/api/v1/audiobook/{bookId}/track/{trackIndex}/stream": {
      "get": {
        "tags": [
          "Audiobook Reader"
        ],
        "summary": "Stream specific track",
        "description": "Stream a specific track from a folder-based audiobook.",
        "operationId": "streamTrack",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "trackIndex",
            "in": "path",
            "description": "Track index (0-indexed)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Full track file returned"
          },
          "206": {
            "description": "Partial content returned (range request)"
          },
          "416": {
            "description": "Range not satisfiable"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/audiobook/{bookId}/stream": {
      "get": {
        "tags": [
          "Audiobook Reader"
        ],
        "summary": "Stream audiobook audio",
        "description": "Stream the audiobook audio file with HTTP Range support for seeking. Uses token query parameter for authentication to support HTML5 audio element.",
        "operationId": "streamAudiobook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "trackIndex",
            "in": "query",
            "description": "Track index for folder-based audiobooks (0-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Full audio file returned"
          },
          "206": {
            "description": "Partial content returned (range request)"
          },
          "416": {
            "description": "Range not satisfiable"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/audiobook/{bookId}/info": {
      "get": {
        "tags": [
          "Audiobook Reader"
        ],
        "summary": "Get audiobook info",
        "description": "Retrieve metadata including duration, chapters/tracks, and audio details for an audiobook.",
        "operationId": "getAudiobookInfo",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format (e.g., AUDIOBOOK)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Audiobook info returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AudiobookInfo"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/audiobook/{bookId}/cover": {
      "get": {
        "tags": [
          "Audiobook Reader"
        ],
        "summary": "Get embedded cover art",
        "description": "Extract and return the embedded cover art from the audiobook file. Uses token query parameter for authentication.",
        "operationId": "getEmbeddedCover",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "bookType",
            "in": "query",
            "description": "Optional book type for alternative format",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cover art returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "byte"
                }
              }
            }
          },
          "404": {
            "description": "No embedded cover art found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "byte"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/annotations/book/{bookId}": {
      "get": {
        "tags": [
          "Annotations"
        ],
        "summary": "Get annotations for a book",
        "description": "Retrieve all annotations for a specific book.",
        "operationId": "getAnnotationsForBook",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "ID of the book",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Annotations returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Annotation"
                  }
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/mobile/v1/shelves": {
      "get": {
        "tags": [
          "Mobile Shelves"
        ],
        "summary": "Get user's shelves",
        "description": "Retrieve a list of shelves the current user owns or are public.",
        "operationId": "getShelves",
        "responses": {
          "200": {
            "description": "Shelves retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MobileShelfSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/shelves/magic": {
      "get": {
        "tags": [
          "Mobile Shelves"
        ],
        "summary": "Get user's magic shelves",
        "description": "Retrieve a list of magic shelves the current user owns or are public.",
        "operationId": "getMagicShelves",
        "responses": {
          "200": {
            "description": "Magic shelves retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MobileMagicShelfSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/libraries": {
      "get": {
        "tags": [
          "Mobile Libraries"
        ],
        "summary": "Get user's accessible libraries",
        "description": "Retrieve a list of libraries the current user has access to.",
        "operationId": "getLibraries_1",
        "responses": {
          "200": {
            "description": "Libraries retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MobileLibrarySummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/books": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Get paginated book list",
        "description": "Retrieve a paginated list of books with optional filtering by library, shelf, status, and search text.",
        "operationId": "getBooks_2",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (0-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size (max 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sort field (title, addedOn, lastReadTime, seriesName)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "addedOn"
            }
          },
          {
            "name": "dir",
            "in": "query",
            "description": "Sort direction (asc, desc)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc"
            }
          },
          {
            "name": "libraryId",
            "in": "query",
            "description": "Filter by library ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "shelfId",
            "in": "query",
            "description": "Filter by shelf ID",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by read status",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "UNREAD",
                "READING",
                "RE_READING",
                "READ",
                "PARTIALLY_READ",
                "PAUSED",
                "WONT_READ",
                "ABANDONED",
                "UNSET"
              ]
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search in title, author, series",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          },
          "403": {
            "description": "Access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/books/{bookId}": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Get book details",
        "description": "Retrieve full details for a specific book.",
        "operationId": "getBookDetail",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobileBookDetail"
                }
              }
            }
          },
          "403": {
            "description": "Access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobileBookDetail"
                }
              }
            }
          },
          "404": {
            "description": "Book not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobileBookDetail"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/mobile/v1/books/search": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Search books",
        "description": "Search books by query text in title, author, and series name.",
        "operationId": "searchBooks",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number (0-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size (max 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          },
          "400": {
            "description": "Query parameter required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/books/recently-added": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Get recently added books",
        "description": "Get books added in the last 30 days, sorted by added date (most recent first).",
        "operationId": "getRecentlyAdded",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of books to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recently added books retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MobileBookSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/books/magic-shelf/{magicShelfId}": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Get books by magic shelf",
        "description": "Retrieve a paginated list of books matching a magic shelf's rules.",
        "operationId": "getBooksByMagicShelf",
        "parameters": [
          {
            "name": "magicShelfId",
            "in": "path",
            "description": "Magic shelf ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number (0-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "Page size (max 50)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Books retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          },
          "403": {
            "description": "Access denied",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          },
          "404": {
            "description": "Magic shelf not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MobilePageResponseMobileBookSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/mobile/v1/books/continue-reading": {
      "get": {
        "tags": [
          "Mobile Books"
        ],
        "summary": "Get continue reading list",
        "description": "Get books currently in progress, sorted by last read time (most recent first).",
        "operationId": "getContinueReading",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of books to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Continue reading list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MobileBookSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/metadata/tasks/{taskId}": {
      "get": {
        "tags": [
          "Metadata Tasks"
        ],
        "summary": "Get metadata task with proposals",
        "description": "Retrieve a metadata task and its proposals by task ID. Requires metadata edit permission or admin.",
        "operationId": "getTaskWithProposals",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Task details returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetadataTaskDetailsResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Metadata Tasks"
        ],
        "summary": "Delete a metadata task",
        "description": "Delete a metadata task and its proposals by task ID. Requires metadata edit permission or admin.",
        "operationId": "deleteTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Task deleted successfully"
          }
        }
      }
    },
    "/api/metadata/tasks/active": {
      "get": {
        "tags": [
          "Metadata Tasks"
        ],
        "summary": "Get active metadata tasks",
        "description": "Retrieve all active metadata batch tasks. Requires metadata edit permission or admin.",
        "operationId": "getActiveTasks",
        "responses": {
          "200": {
            "description": "Active tasks returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MetadataBatchProgressNotification"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/magic-shelves/{id}": {
      "get": {
        "tags": [
          "Magic Shelves"
        ],
        "summary": "Get a magic shelf by ID",
        "description": "Retrieve a specific magic shelf by its ID.",
        "operationId": "getShelf_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the magic shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Magic shelf returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MagicShelf"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Magic Shelves"
        ],
        "summary": "Delete a magic shelf",
        "description": "Delete a specific magic shelf by its ID.",
        "operationId": "deleteShelf_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the magic shelf",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Magic shelf deleted successfully"
          }
        }
      }
    },
    "/api/koreader/users/auth": {
      "get": {
        "tags": [
          "KoReader"
        ],
        "summary": "Authorize KoReader user",
        "description": "Authorize a user for KoReader sync.",
        "operationId": "authorizeUser",
        "responses": {
          "200": {
            "description": "User authorized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/koreader/syncs/progress/{bookHash}": {
      "get": {
        "tags": [
          "KoReader"
        ],
        "summary": "Get KoReader progress",
        "description": "Retrieve reading progress for a book by its hash.",
        "operationId": "getProgress",
        "parameters": [
          {
            "name": "bookHash",
            "in": "path",
            "description": "Book hash",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Progress returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoreaderProgress"
                }
              }
            }
          }
        }
      }
    },
    "/api/kobo/{token}/v1/library/{bookId}/metadata": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get book metadata",
        "description": "Retrieve metadata for a book in the Kobo library.",
        "operationId": "getBookMetadata",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Metadata returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/library/sync": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Sync Kobo library",
        "description": "Sync the user's Kobo library.",
        "operationId": "syncLibrary",
        "responses": {
          "200": {
            "description": "Library synced successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/initialization": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Initialize Kobo resources",
        "description": "Initialize Kobo resources for the device.",
        "operationId": "initialization",
        "responses": {
          "200": {
            "description": "Initialization successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KoboResources"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/books/{imageId}/{version}/thumbnail/{width}/{height}/{quality}/{isGreyscale}/image.jpg": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get greyscale book thumbnail (versioned)",
        "description": "Retrieve a greyscale thumbnail for a local book with cache-busting version.",
        "operationId": "getVersionedGreyThumbnail",
        "parameters": [
          {
            "name": "imageId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "version",
            "in": "path",
            "description": "Cover version (timestamp)",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "width",
            "in": "path",
            "description": "Width of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "height",
            "in": "path",
            "description": "Height of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "quality",
            "in": "path",
            "description": "Quality of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "isGreyscale",
            "in": "path",
            "description": "Is greyscale",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Greyscale thumbnail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/books/{imageId}/{version}/thumbnail/{width}/{height}/false/image.jpg": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get book thumbnail (versioned)",
        "description": "Retrieve the thumbnail image for a local book with cache-busting version.",
        "operationId": "getVersionedThumbnail",
        "parameters": [
          {
            "name": "imageId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "version",
            "in": "path",
            "description": "Cover version (timestamp)",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "width",
            "in": "path",
            "description": "Width of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "height",
            "in": "path",
            "description": "Height of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Thumbnail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/books/{imageId}/thumbnail/{width}/{height}/{quality}/{isGreyscale}/image.jpg": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get greyscale book thumbnail",
        "description": "Retrieve a greyscale thumbnail image for a Kobo store book.",
        "operationId": "getGreyThumbnail",
        "parameters": [
          {
            "name": "imageId",
            "in": "path",
            "description": "Image ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "width",
            "in": "path",
            "description": "Width of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "height",
            "in": "path",
            "description": "Height of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "quality",
            "in": "path",
            "description": "Quality of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "isGreyscale",
            "in": "path",
            "description": "Is greyscale",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Greyscale thumbnail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/books/{imageId}/thumbnail/{width}/{height}/false/image.jpg": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Get book thumbnail",
        "description": "Retrieve the thumbnail image for a Kobo store book.",
        "operationId": "getThumbnail",
        "parameters": [
          {
            "name": "imageId",
            "in": "path",
            "description": "Image ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "width",
            "in": "path",
            "description": "Width of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "height",
            "in": "path",
            "description": "Height of the thumbnail",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Thumbnail returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        }
      ]
    },
    "/api/kobo/{token}/v1/books/{bookId}/download": {
      "get": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Download Kobo book",
        "description": "Download a book from the Kobo library.",
        "operationId": "downloadBook_3",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book downloaded successfully"
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/tasks/{taskId}/cancel": {
      "delete": {
        "tags": [
          "task-controller"
        ],
        "operationId": "cancelTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCancelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reviews/{id}": {
      "delete": {
        "tags": [
          "Book Reviews"
        ],
        "summary": "Delete a review",
        "description": "Delete a specific review by its ID. Requires metadata edit permission or admin.",
        "operationId": "delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the review to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Review deleted successfully"
          }
        }
      }
    },
    "/api/v1/icons/{svgName}": {
      "delete": {
        "tags": [
          "Icons"
        ],
        "summary": "Delete an SVG icon",
        "description": "Deletes an SVG icon by its name.",
        "operationId": "deleteSvgIcon",
        "parameters": [
          {
            "name": "svgName",
            "in": "path",
            "description": "SVG icon name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "SVG icon deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/custom-fonts/{fontId}": {
      "delete": {
        "tags": [
          "Custom Fonts"
        ],
        "summary": "Delete a custom font",
        "description": "Delete a custom font file and database record",
        "operationId": "deleteFont",
        "parameters": [
          {
            "name": "fontId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Font deleted successfully"
          },
          "404": {
            "description": "Font not found or access denied"
          }
        }
      }
    },
    "/api/v1/books/{bookId}/files/{fileId}": {
      "delete": {
        "tags": [
          "additional-file-controller"
        ],
        "operationId": "deleteAdditionalFile",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "fileId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "parameters": [
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    },
    "/api/v1/book-notes/{noteId}": {
      "delete": {
        "tags": [
          "Book Notes"
        ],
        "summary": "Delete a note",
        "description": "Delete a specific note by its ID.",
        "operationId": "deleteNote_1",
        "parameters": [
          {
            "name": "noteId",
            "in": "path",
            "description": "ID of the note to delete",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Note deleted successfully"
          }
        }
      }
    },
    "/api/kobo/{token}/v1/library/{bookId}": {
      "delete": {
        "tags": [
          "Kobo Integration"
        ],
        "summary": "Delete book from Kobo library",
        "description": "Delete a book from the user's Kobo library.",
        "operationId": "deleteBookFromLibrary",
        "parameters": [
          {
            "name": "bookId",
            "in": "path",
            "description": "Book ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Book deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "parameters": [
        {
          "name": "token",
          "in": "path",
          "required": true,
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "bookId",
          "in": "path",
          "required": true,
          "schema": {
            "type": "integer",
            "format": "int64"
          }
        }
      ]
    }
  },
  "components": {
    "schemas": {
      "JsonNode": {
        "description": "Authentication request body"
      },
      "CreateEmailRecipientRequest": {
        "type": "object",
        "description": "Email recipient creation request",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "maxLength": 255,
            "minLength": 0
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 0
          },
          "defaultRecipient": {
            "type": "boolean"
          }
        },
        "required": [
          "email",
          "name"
        ]
      },
      "EmailRecipientV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "defaultRecipient": {
            "type": "boolean"
          }
        }
      },
      "CreateEmailProviderRequest": {
        "type": "object",
        "description": "Email provider creation request",
        "properties": {
          "name": {
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "fromAddress": {
            "type": "string"
          },
          "auth": {
            "type": "boolean"
          },
          "startTls": {
            "type": "boolean"
          },
          "shared": {
            "type": "boolean"
          }
        }
      },
      "EmailProviderV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "format": "int32"
          },
          "username": {
            "type": "string"
          },
          "fromAddress": {
            "type": "string"
          },
          "auth": {
            "type": "boolean"
          },
          "startTls": {
            "type": "boolean"
          },
          "defaultProvider": {
            "type": "boolean"
          },
          "shared": {
            "type": "boolean"
          }
        }
      },
      "UpdateBookNoteV2Request": {
        "type": "object",
        "description": "Note update request",
        "properties": {
          "noteContent": {
            "type": "string"
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$"
          },
          "chapterTitle": {
            "type": "string",
            "maxLength": 500,
            "minLength": 0
          }
        }
      },
      "BookNoteV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string"
          },
          "selectedText": {
            "type": "string"
          },
          "noteContent": {
            "type": "string"
          },
          "color": {
            "type": "string"
          },
          "chapterTitle": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Permissions": {
        "type": "object",
        "properties": {
          "canUpload": {
            "type": "boolean"
          },
          "canDownload": {
            "type": "boolean"
          },
          "canEditMetadata": {
            "type": "boolean"
          },
          "canManageLibrary": {
            "type": "boolean"
          },
          "canEmailBook": {
            "type": "boolean"
          },
          "canDeleteBook": {
            "type": "boolean"
          },
          "canAccessOpds": {
            "type": "boolean"
          },
          "canSyncKoReader": {
            "type": "boolean"
          },
          "canSyncKobo": {
            "type": "boolean"
          },
          "canManageMetadataConfig": {
            "type": "boolean"
          },
          "canAccessBookdrop": {
            "type": "boolean"
          },
          "canAccessLibraryStats": {
            "type": "boolean"
          },
          "canAccessUserStats": {
            "type": "boolean"
          },
          "canAccessTaskManager": {
            "type": "boolean"
          },
          "canManageGlobalPreferences": {
            "type": "boolean"
          },
          "canManageIcons": {
            "type": "boolean"
          },
          "canManageFonts": {
            "type": "boolean"
          },
          "canBulkAutoFetchMetadata": {
            "type": "boolean"
          },
          "canBulkCustomFetchMetadata": {
            "type": "boolean"
          },
          "canBulkEditMetadata": {
            "type": "boolean"
          },
          "canBulkRegenerateCover": {
            "type": "boolean"
          },
          "canMoveOrganizeFiles": {
            "type": "boolean"
          },
          "canBulkLockUnlockMetadata": {
            "type": "boolean"
          },
          "canBulkResetBookloreReadProgress": {
            "type": "boolean"
          },
          "canBulkResetKoReaderReadProgress": {
            "type": "boolean"
          },
          "canBulkResetBookReadStatus": {
            "type": "boolean"
          },
          "admin": {
            "type": "boolean"
          }
        }
      },
      "UserUpdateRequest": {
        "type": "object",
        "description": "User update request",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "permissions": {
            "$ref": "#/components/schemas/Permissions"
          },
          "assignedLibraries": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "BookLoreUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "username": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "provisioningMethod": {
            "type": "string",
            "enum": [
              "LOCAL",
              "OIDC",
              "REMOTE"
            ]
          },
          "assignedLibraries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Library"
            }
          },
          "permissions": {
            "$ref": "#/components/schemas/UserPermissions"
          },
          "userSettings": {
            "$ref": "#/components/schemas/UserSettings"
          },
          "defaultPassword": {
            "type": "boolean"
          }
        }
      },
      "CbxReaderSetting": {
        "type": "object",
        "properties": {
          "pageSpread": {
            "type": "string",
            "enum": [
              "EVEN",
              "ODD"
            ]
          },
          "pageViewMode": {
            "type": "string",
            "enum": [
              "SINGLE_PAGE",
              "TWO_PAGE"
            ]
          },
          "fitMode": {
            "type": "string",
            "enum": [
              "ACTUAL_SIZE",
              "FIT_PAGE",
              "FIT_WIDTH",
              "FIT_HEIGHT",
              "AUTO"
            ]
          },
          "scrollMode": {
            "type": "string",
            "enum": [
              "PAGINATED",
              "INFINITE"
            ]
          },
          "backgroundColor": {
            "type": "string",
            "enum": [
              "GRAY",
              "BLACK",
              "WHITE"
            ]
          }
        }
      },
      "DashboardConfig": {
        "type": "object",
        "properties": {
          "scrollers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScrollerConfig"
            }
          }
        }
      },
      "EbookReaderSetting": {
        "type": "object",
        "properties": {
          "fontFamily": {
            "type": "string"
          },
          "fontSize": {
            "type": "integer",
            "format": "int32"
          },
          "gap": {
            "type": "number",
            "format": "float"
          },
          "hyphenate": {
            "type": "boolean"
          },
          "isDark": {
            "type": "boolean"
          },
          "justify": {
            "type": "boolean"
          },
          "lineHeight": {
            "type": "number",
            "format": "float"
          },
          "maxBlockSize": {
            "type": "integer",
            "format": "int32"
          },
          "maxColumnCount": {
            "type": "integer",
            "format": "int32"
          },
          "maxInlineSize": {
            "type": "integer",
            "format": "int32"
          },
          "theme": {
            "type": "string"
          },
          "flow": {
            "type": "string"
          }
        }
      },
      "EntityViewPreferences": {
        "type": "object",
        "properties": {
          "global": {
            "$ref": "#/components/schemas/GlobalPreferences"
          },
          "overrides": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OverridePreference"
            }
          }
        }
      },
      "EpubReaderSetting": {
        "type": "object",
        "properties": {
          "theme": {
            "type": "string"
          },
          "font": {
            "type": "string"
          },
          "fontSize": {
            "type": "integer",
            "format": "int32"
          },
          "letterSpacing": {
            "type": "number",
            "format": "float"
          },
          "lineHeight": {
            "type": "number",
            "format": "float"
          },
          "flow": {
            "type": "string"
          },
          "spread": {
            "type": "string"
          }
        }
      },
      "GlobalPreferences": {
        "type": "object",
        "properties": {
          "sortKey": {
            "type": "string"
          },
          "sortDir": {
            "type": "string"
          },
          "view": {
            "type": "string"
          },
          "coverSize": {
            "type": "number",
            "format": "float"
          },
          "seriesCollapsed": {
            "type": "boolean"
          },
          "overlayBookType": {
            "type": "boolean"
          }
        }
      },
      "Library": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "sort": {
            "$ref": "#/components/schemas/Sort"
          },
          "icon": {
            "type": "string"
          },
          "iconType": {
            "type": "string",
            "enum": [
              "PRIME_NG",
              "CUSTOM_SVG"
            ]
          },
          "fileNamingPattern": {
            "type": "string"
          },
          "watch": {
            "type": "boolean"
          },
          "paths": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LibraryPath"
            }
          },
          "formatPriority": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "PDF",
                "EPUB",
                "CBX",
                "FB2",
                "MOBI",
                "AZW3",
                "AUDIOBOOK"
              ]
            }
          },
          "organizationMode": {
            "type": "string",
            "enum": [
              "BOOK_PER_FOLDER",
              "AUTO_DETECT"
            ]
          }
        }
      },
      "LibraryPath": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "path": {
            "type": "string"
          }
        }
      },
      "NewPdfReaderSetting": {
        "type": "object",
        "properties": {
          "pageSpread": {
            "type": "string",
            "enum": [
              "EVEN",
              "ODD"
            ]
          },
          "pageViewMode": {
            "type": "string",
            "enum": [
              "SINGLE_PAGE",
              "TWO_PAGE"
            ]
          },
          "backgroundColor": {
            "type": "string",
            "enum": [
              "GRAY",
              "BLACK",
              "WHITE"
            ]
          },
          "fitMode": {
            "type": "string",
            "enum": [
              "ACTUAL_SIZE",
              "FIT_PAGE",
              "FIT_WIDTH",
              "FIT_HEIGHT",
              "AUTO"
            ]
          },
          "scrollMode": {
            "type": "string",
            "enum": [
              "PAGINATED",
              "INFINITE"
            ]
          }
        }
      },
      "OverrideDetails": {
        "type": "object",
        "properties": {
          "sortKey": {
            "type": "string"
          },
          "sortDir": {
            "type": "string"
          },
          "view": {
            "type": "string"
          },
          "seriesCollapsed": {
            "type": "boolean"
          },
          "overlayBookType": {
            "type": "boolean"
          }
        }
      },
      "OverridePreference": {
        "type": "object",
        "properties": {
          "entityType": {
            "type": "string"
          },
          "entityId": {
            "type": "integer",
            "format": "int64"
          },
          "preferences": {
            "$ref": "#/components/schemas/OverrideDetails"
          }
        }
      },
      "PdfReaderSetting": {
        "type": "object",
        "properties": {
          "pageSpread": {
            "type": "string"
          },
          "pageZoom": {
            "type": "string"
          }
        }
      },
      "PerBookSetting": {
        "type": "object",
        "properties": {
          "pdf": {
            "type": "string",
            "enum": [
              "Global",
              "Individual"
            ]
          },
          "epub": {
            "type": "string",
            "enum": [
              "Global",
              "Individual"
            ]
          },
          "cbx": {
            "type": "string",
            "enum": [
              "Global",
              "Individual"
            ]
          },
          "newPdf": {
            "type": "string",
            "enum": [
              "Global",
              "Individual"
            ]
          }
        }
      },
      "ScrollerConfig": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "order": {
            "type": "integer",
            "format": "int32"
          },
          "maxItems": {
            "type": "integer",
            "format": "int32"
          },
          "magicShelfId": {
            "type": "integer",
            "format": "int64"
          },
          "sortField": {
            "type": "string"
          },
          "sortDirection": {
            "type": "string"
          }
        }
      },
      "SidebarSortOption": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "order": {
            "type": "string"
          }
        }
      },
      "Sort": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "direction": {
            "type": "string",
            "enum": [
              "ASCENDING",
              "DESCENDING"
            ]
          }
        }
      },
      "TableColumnPreference": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "visible": {
            "type": "boolean"
          },
          "order": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "UserPermissions": {
        "type": "object",
        "properties": {
          "canUpload": {
            "type": "boolean"
          },
          "canDownload": {
            "type": "boolean"
          },
          "canEditMetadata": {
            "type": "boolean"
          },
          "canManageLibrary": {
            "type": "boolean"
          },
          "canSyncKoReader": {
            "type": "boolean"
          },
          "canSyncKobo": {
            "type": "boolean"
          },
          "canEmailBook": {
            "type": "boolean"
          },
          "canDeleteBook": {
            "type": "boolean"
          },
          "canAccessOpds": {
            "type": "boolean"
          },
          "canManageMetadataConfig": {
            "type": "boolean"
          },
          "canAccessBookdrop": {
            "type": "boolean"
          },
          "canAccessLibraryStats": {
            "type": "boolean"
          },
          "canAccessUserStats": {
            "type": "boolean"
          },
          "canAccessTaskManager": {
            "type": "boolean"
          },
          "canManageGlobalPreferences": {
            "type": "boolean"
          },
          "canManageIcons": {
            "type": "boolean"
          },
          "canManageFonts": {
            "type": "boolean"
          },
          "canBulkAutoFetchMetadata": {
            "type": "boolean"
          },
          "canBulkCustomFetchMetadata": {
            "type": "boolean"
          },
          "canBulkEditMetadata": {
            "type": "boolean"
          },
          "canBulkRegenerateCover": {
            "type": "boolean"
          },
          "canMoveOrganizeFiles": {
            "type": "boolean"
          },
          "canBulkLockUnlockMetadata": {
            "type": "boolean"
          },
          "canBulkResetBookloreReadProgress": {
            "type": "boolean"
          },
          "canBulkResetKoReaderReadProgress": {
            "type": "boolean"
          },
          "canBulkResetBookReadStatus": {
            "type": "boolean"
          },
          "demoUser": {
            "type": "boolean"
          },
          "admin": {
            "type": "boolean"
          }
        }
      },
      "UserSettings": {
        "type": "object",
        "properties": {
          "perBookSetting": {
            "$ref": "#/components/schemas/PerBookSetting"
          },
          "pdfReaderSetting": {
            "$ref": "#/components/schemas/PdfReaderSetting"
          },
          "newPdfReaderSetting": {
            "$ref": "#/components/schemas/NewPdfReaderSetting"
          },
          "epubReaderSetting": {
            "$ref": "#/components/schemas/EpubReaderSetting"
          },
          "ebookReaderSetting": {
            "$ref": "#/components/schemas/EbookReaderSetting"
          },
          "cbxReaderSetting": {
            "$ref": "#/components/schemas/CbxReaderSetting"
          },
          "sidebarLibrarySorting": {
            "$ref": "#/components/schemas/SidebarSortOption"
          },
          "sidebarShelfSorting": {
            "$ref": "#/components/schemas/SidebarSortOption"
          },
          "sidebarMagicShelfSorting": {
            "$ref": "#/components/schemas/SidebarSortOption"
          },
          "entityViewPreferences": {
            "$ref": "#/components/schemas/EntityViewPreferences"
          },
          "tableColumnPreference": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TableColumnPreference"
            }
          },
          "filterMode": {
            "type": "string"
          },
          "filterSortingMode": {
            "type": "string"
          },
          "metadataCenterViewMode": {
            "type": "string"
          },
          "koReaderEnabled": {
            "type": "boolean"
          },
          "enableSeriesView": {
            "type": "boolean"
          },
          "autoSaveMetadata": {
            "type": "boolean"
          },
          "dashboardConfig": {
            "$ref": "#/components/schemas/DashboardConfig"
          }
        }
      },
      "UpdateUserSettingRequest": {
        "type": "object",
        "description": "Update user setting request",
        "properties": {
          "key": {
            "type": "string"
          },
          "value": {}
        }
      },
      "ChangeUserPasswordRequest": {
        "type": "object",
        "description": "Change user password request",
        "properties": {
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "newPassword": {
            "type": "string"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "description": "Change password request",
        "properties": {
          "currentPassword": {
            "type": "string"
          },
          "newPassword": {
            "type": "string"
          }
        }
      },
      "ShelfCreateRequest": {
        "type": "object",
        "description": "Shelf creation request",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "icon": {
            "type": "string",
            "minLength": 1
          },
          "iconType": {
            "type": "string",
            "enum": [
              "PRIME_NG",
              "CUSTOM_SVG"
            ]
          },
          "publicShelf": {
            "type": "boolean"
          }
        },
        "required": [
          "icon",
          "iconType",
          "name"
        ]
      },
      "Shelf": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "iconType": {
            "type": "string",
            "enum": [
              "PRIME_NG",
              "CUSTOM_SVG"
            ]
          },
          "sort": {
            "$ref": "#/components/schemas/Sort"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "publicShelf": {
            "type": "boolean"
          },
          "bookCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SettingRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "value": {}
        }
      },
      "CreateLibraryRequest": {
        "type": "object",
        "description": "Library creation request with paths to scan",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "icon": {
            "type": "string",
            "minLength": 1
          },
          "iconType": {
            "type": "string",
            "enum": [
              "PRIME_NG",
              "CUSTOM_SVG"
            ]
          },
          "paths": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LibraryPath"
            },
            "minItems": 1
          },
          "watch": {
            "type": "boolean"
          },
          "formatPriority": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "PDF",
                "EPUB",
                "CBX",
                "FB2",
                "MOBI",
                "AZW3",
                "AUDIOBOOK"
              ]
            }
          }
        },
        "required": [
          "icon",
          "iconType",
          "name",
          "paths"
        ]
      },
      "KoreaderUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "passwordMD5": {
            "type": "string"
          },
          "syncEnabled": {
            "type": "boolean"
          },
          "syncWithBookloreReader": {
            "type": "boolean"
          }
        }
      },
      "KoboSyncSettings": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "syncEnabled": {
            "type": "boolean"
          },
          "progressMarkAsReadingThreshold": {
            "type": "number",
            "format": "float"
          },
          "progressMarkAsFinishedThreshold": {
            "type": "number",
            "format": "float"
          },
          "autoAddToShelf": {
            "type": "boolean"
          },
          "hardcoverApiKey": {
            "type": "string"
          },
          "hardcoverSyncEnabled": {
            "type": "boolean"
          }
        }
      },
      "HardcoverSyncSettings": {
        "type": "object",
        "properties": {
          "hardcoverApiKey": {
            "type": "string"
          },
          "hardcoverSyncEnabled": {
            "type": "boolean"
          }
        }
      },
      "BookViewerSettings": {
        "type": "object",
        "description": "Viewer settings to update",
        "properties": {
          "pdfSettings": {
            "$ref": "#/components/schemas/PdfViewerPreferences"
          },
          "newPdfSettings": {
            "$ref": "#/components/schemas/NewPdfViewerPreferences"
          },
          "ebookSettings": {
            "$ref": "#/components/schemas/EbookViewerPreferences"
          },
          "cbxSettings": {
            "$ref": "#/components/schemas/CbxViewerPreferences"
          }
        }
      },
      "CbxViewerPreferences": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "pageSpread": {
            "type": "string",
            "enum": [
              "EVEN",
              "ODD"
            ]
          },
          "pageViewMode": {
            "type": "string",
            "enum": [
              "SINGLE_PAGE",
              "TWO_PAGE"
            ]
          },
          "fitMode": {
            "type": "string",
            "enum": [
              "ACTUAL_SIZE",
              "FIT_PAGE",
              "FIT_WIDTH",
              "FIT_HEIGHT",
              "AUTO"
            ]
          },
          "scrollMode": {
            "type": "string",
            "enum": [
              "PAGINATED",
              "INFINITE"
            ]
          },
          "backgroundColor": {
            "type": "string",
            "enum": [
              "GRAY",
              "BLACK",
              "WHITE"
            ]
          }
        }
      },
      "EbookViewerPreferences": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "fontFamily": {
            "type": "string"
          },
          "fontSize": {
            "type": "integer",
            "format": "int32"
          },
          "gap": {
            "type": "number",
            "format": "float"
          },
          "hyphenate": {
            "type": "boolean"
          },
          "isDark": {
            "type": "boolean"
          },
          "justify": {
            "type": "boolean"
          },
          "lineHeight": {
            "type": "number",
            "format": "float"
          },
          "maxBlockSize": {
            "type": "integer",
            "format": "int32"
          },
          "maxColumnCount": {
            "type": "integer",
            "format": "int32"
          },
          "maxInlineSize": {
            "type": "integer",
            "format": "int32"
          },
          "theme": {
            "type": "string"
          },
          "flow": {
            "type": "string"
          }
        }
      },
      "NewPdfViewerPreferences": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "pageSpread": {
            "type": "string",
            "enum": [
              "EVEN",
              "ODD"
            ]
          },
          "pageViewMode": {
            "type": "string",
            "enum": [
              "SINGLE_PAGE",
              "TWO_PAGE"
            ]
          },
          "backgroundColor": {
            "type": "string",
            "enum": [
              "GRAY",
              "BLACK",
              "WHITE"
            ]
          },
          "fitMode": {
            "type": "string",
            "enum": [
              "ACTUAL_SIZE",
              "FIT_PAGE",
              "FIT_WIDTH",
              "FIT_HEIGHT",
              "AUTO"
            ]
          },
          "scrollMode": {
            "type": "string",
            "enum": [
              "PAGINATED",
              "INFINITE"
            ]
          }
        }
      },
      "PdfViewerPreferences": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "zoom": {
            "type": "string"
          },
          "spread": {
            "type": "string"
          }
        }
      },
      "BookMetadata": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "subtitle": {
            "type": "string"
          },
          "publisher": {
            "type": "string"
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string"
          },
          "seriesName": {
            "type": "string"
          },
          "seriesNumber": {
            "type": "number",
            "format": "float"
          },
          "seriesTotal": {
            "type": "integer",
            "format": "int32"
          },
          "isbn13": {
            "type": "string"
          },
          "isbn10": {
            "type": "string"
          },
          "pageCount": {
            "type": "integer",
            "format": "int32"
          },
          "language": {
            "type": "string"
          },
          "asin": {
            "type": "string"
          },
          "amazonRating": {
            "type": "number",
            "format": "double"
          },
          "amazonReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "goodreadsId": {
            "type": "string"
          },
          "comicvineId": {
            "type": "string"
          },
          "goodreadsRating": {
            "type": "number",
            "format": "double"
          },
          "goodreadsReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "hardcoverId": {
            "type": "string"
          },
          "hardcoverBookId": {
            "type": "integer",
            "format": "int32"
          },
          "hardcoverRating": {
            "type": "number",
            "format": "double"
          },
          "hardcoverReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "doubanId": {
            "type": "string"
          },
          "doubanRating": {
            "type": "number",
            "format": "double"
          },
          "doubanReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "lubimyczytacRating": {
            "type": "number",
            "format": "double"
          },
          "googleId": {
            "type": "string"
          },
          "lubimyczytacId": {
            "type": "string"
          },
          "ranobedbId": {
            "type": "string"
          },
          "ranobedbRating": {
            "type": "number",
            "format": "double"
          },
          "externalUrl": {
            "type": "string"
          },
          "coverUpdatedOn": {
            "type": "string",
            "format": "date-time"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "moods": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "provider": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "bookReviews": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookReview"
            }
          },
          "titleLocked": {
            "type": "boolean"
          },
          "subtitleLocked": {
            "type": "boolean"
          },
          "publisherLocked": {
            "type": "boolean"
          },
          "publishedDateLocked": {
            "type": "boolean"
          },
          "descriptionLocked": {
            "type": "boolean"
          },
          "seriesNameLocked": {
            "type": "boolean"
          },
          "seriesNumberLocked": {
            "type": "boolean"
          },
          "seriesTotalLocked": {
            "type": "boolean"
          },
          "isbn13Locked": {
            "type": "boolean"
          },
          "isbn10Locked": {
            "type": "boolean"
          },
          "asinLocked": {
            "type": "boolean"
          },
          "goodreadsIdLocked": {
            "type": "boolean"
          },
          "comicvineIdLocked": {
            "type": "boolean"
          },
          "hardcoverIdLocked": {
            "type": "boolean"
          },
          "hardcoverBookIdLocked": {
            "type": "boolean"
          },
          "doubanIdLocked": {
            "type": "boolean"
          },
          "googleIdLocked": {
            "type": "boolean"
          },
          "pageCountLocked": {
            "type": "boolean"
          },
          "languageLocked": {
            "type": "boolean"
          },
          "amazonRatingLocked": {
            "type": "boolean"
          },
          "amazonReviewCountLocked": {
            "type": "boolean"
          },
          "goodreadsRatingLocked": {
            "type": "boolean"
          },
          "goodreadsReviewCountLocked": {
            "type": "boolean"
          },
          "hardcoverRatingLocked": {
            "type": "boolean"
          },
          "hardcoverReviewCountLocked": {
            "type": "boolean"
          },
          "doubanRatingLocked": {
            "type": "boolean"
          },
          "doubanReviewCountLocked": {
            "type": "boolean"
          },
          "lubimyczytacIdLocked": {
            "type": "boolean"
          },
          "lubimyczytacRatingLocked": {
            "type": "boolean"
          },
          "ranobedbIdLocked": {
            "type": "boolean"
          },
          "ranobedbRatingLocked": {
            "type": "boolean"
          },
          "externalUrlLocked": {
            "type": "boolean"
          },
          "coverLocked": {
            "type": "boolean"
          },
          "authorsLocked": {
            "type": "boolean"
          },
          "categoriesLocked": {
            "type": "boolean"
          },
          "moodsLocked": {
            "type": "boolean"
          },
          "tagsLocked": {
            "type": "boolean"
          },
          "reviewsLocked": {
            "type": "boolean"
          }
        }
      },
      "BookReview": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "metadataProvider": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "reviewerName": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "rating": {
            "type": "number",
            "format": "float"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "body": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "spoiler": {
            "type": "boolean"
          },
          "followersCount": {
            "type": "integer",
            "format": "int32"
          },
          "textReviewsCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MetadataClearFlags": {
        "type": "object",
        "properties": {
          "title": {
            "type": "boolean"
          },
          "subtitle": {
            "type": "boolean"
          },
          "publisher": {
            "type": "boolean"
          },
          "publishedDate": {
            "type": "boolean"
          },
          "description": {
            "type": "boolean"
          },
          "seriesName": {
            "type": "boolean"
          },
          "seriesNumber": {
            "type": "boolean"
          },
          "seriesTotal": {
            "type": "boolean"
          },
          "isbn13": {
            "type": "boolean"
          },
          "isbn10": {
            "type": "boolean"
          },
          "asin": {
            "type": "boolean"
          },
          "goodreadsId": {
            "type": "boolean"
          },
          "comicvineId": {
            "type": "boolean"
          },
          "hardcoverId": {
            "type": "boolean"
          },
          "hardcoverBookId": {
            "type": "boolean"
          },
          "googleId": {
            "type": "boolean"
          },
          "pageCount": {
            "type": "boolean"
          },
          "language": {
            "type": "boolean"
          },
          "amazonRating": {
            "type": "boolean"
          },
          "amazonReviewCount": {
            "type": "boolean"
          },
          "goodreadsRating": {
            "type": "boolean"
          },
          "goodreadsReviewCount": {
            "type": "boolean"
          },
          "hardcoverRating": {
            "type": "boolean"
          },
          "hardcoverReviewCount": {
            "type": "boolean"
          },
          "lubimyczytacId": {
            "type": "boolean"
          },
          "lubimyczytacRating": {
            "type": "boolean"
          },
          "ranobedbId": {
            "type": "boolean"
          },
          "ranobedbRating": {
            "type": "boolean"
          },
          "authors": {
            "type": "boolean"
          },
          "categories": {
            "type": "boolean"
          },
          "moods": {
            "type": "boolean"
          },
          "tags": {
            "type": "boolean"
          },
          "cover": {
            "type": "boolean"
          },
          "reviews": {
            "type": "boolean"
          }
        }
      },
      "MetadataUpdateWrapper": {
        "type": "object",
        "description": "Metadata update wrapper",
        "properties": {
          "metadata": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "clearFlags": {
            "$ref": "#/components/schemas/MetadataClearFlags"
          }
        }
      },
      "PersonalRatingUpdateRequest": {
        "type": "object",
        "description": "Personal rating update request",
        "properties": {
          "ids": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PersonalRatingUpdateResponse": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "personalRating": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ToggleFieldLocksRequest": {
        "type": "object",
        "description": "Toggle field locks request",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "fieldActions": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "ToggleAllLockRequest": {
        "type": "object",
        "description": "Toggle all lock request",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "lock": {
            "type": "string",
            "enum": [
              "LOCK",
              "UNLOCK"
            ]
          }
        }
      },
      "BulkMetadataUpdateRequest": {
        "type": "object",
        "description": "Bulk metadata update request",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "clearAuthors": {
            "type": "boolean"
          },
          "publisher": {
            "type": "string"
          },
          "clearPublisher": {
            "type": "boolean"
          },
          "language": {
            "type": "string"
          },
          "clearLanguage": {
            "type": "boolean"
          },
          "seriesName": {
            "type": "string"
          },
          "clearSeriesName": {
            "type": "boolean"
          },
          "seriesTotal": {
            "type": "integer",
            "format": "int32"
          },
          "clearSeriesTotal": {
            "type": "boolean"
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "clearPublishedDate": {
            "type": "boolean"
          },
          "genres": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "clearGenres": {
            "type": "boolean"
          },
          "moods": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "clearMoods": {
            "type": "boolean"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "clearTags": {
            "type": "boolean"
          },
          "mergeCategories": {
            "type": "boolean"
          },
          "mergeMoods": {
            "type": "boolean"
          },
          "mergeTags": {
            "type": "boolean"
          }
        }
      },
      "UpdateBookMarkRequest": {
        "type": "object",
        "description": "Bookmark update request",
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 255,
            "minLength": 0
          },
          "cfi": {
            "type": "string",
            "maxLength": 500,
            "minLength": 0
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$"
          },
          "notes": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 0
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        }
      },
      "BookMark": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string"
          },
          "positionMs": {
            "type": "integer",
            "format": "int64"
          },
          "trackIndex": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "color": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UpdateAnnotationRequest": {
        "type": "object",
        "description": "Annotation update request",
        "properties": {
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$"
          },
          "style": {
            "type": "string",
            "pattern": "^(highlight|underline|strikethrough|squiggly)$"
          },
          "note": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 0
          }
        }
      },
      "Annotation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "color": {
            "type": "string"
          },
          "style": {
            "type": "string"
          },
          "note": {
            "type": "string"
          },
          "chapterTitle": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UpdateStatusRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "UNREAD",
              "READING",
              "RE_READING",
              "READ",
              "PARTIALLY_READ",
              "PAUSED",
              "WONT_READ",
              "ABANDONED",
              "UNSET"
            ]
          }
        },
        "required": [
          "status"
        ]
      },
      "UpdateRatingRequest": {
        "type": "object",
        "properties": {
          "rating": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        }
      },
      "KoreaderProgress": {
        "type": "object",
        "description": "KoReader progress object",
        "properties": {
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "document": {
            "type": "string"
          },
          "percentage": {
            "type": "number",
            "format": "float"
          },
          "progress": {
            "type": "string"
          },
          "device": {
            "type": "string"
          },
          "device_id": {
            "type": "string"
          }
        }
      },
      "CurrentBookmark": {
        "type": "object",
        "properties": {
          "LastModified": {
            "type": "string"
          },
          "ProgressPercent": {
            "type": "integer",
            "format": "int32"
          },
          "ContentSourceProgressPercent": {
            "type": "integer",
            "format": "int32"
          },
          "Location": {
            "$ref": "#/components/schemas/Location"
          }
        }
      },
      "KoboReadingState": {
        "type": "object",
        "properties": {
          "EntitlementId": {
            "type": "string"
          },
          "Created": {
            "type": "string"
          },
          "LastModified": {
            "type": "string"
          },
          "StatusInfo": {
            "$ref": "#/components/schemas/StatusInfo"
          },
          "Statistics": {
            "$ref": "#/components/schemas/Statistics"
          },
          "CurrentBookmark": {
            "$ref": "#/components/schemas/CurrentBookmark"
          },
          "PriorityTimestamp": {
            "type": "string"
          }
        }
      },
      "KoboReadingStateWrapper": {
        "type": "object",
        "description": "Reading state update body",
        "properties": {
          "ReadingStates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KoboReadingState"
            }
          }
        }
      },
      "Location": {
        "type": "object",
        "properties": {
          "Value": {
            "type": "string"
          },
          "Type": {
            "type": "string"
          },
          "Source": {
            "type": "string"
          }
        }
      },
      "Statistics": {
        "type": "object",
        "properties": {
          "LastModified": {
            "type": "string"
          },
          "SpentReadingMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "RemainingTimeMinutes": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "StatusInfo": {
        "type": "object",
        "properties": {
          "LastModified": {
            "type": "string"
          },
          "Status": {
            "type": "string",
            "enum": [
              "ReadyToRead",
              "Finished",
              "Reading"
            ]
          },
          "TimesStartedReading": {
            "type": "integer",
            "format": "int32"
          },
          "LastTimeStartedReading": {
            "type": "string"
          },
          "LastTimeFinished": {
            "type": "string"
          }
        }
      },
      "OpdsUserV2CreateRequest": {
        "type": "object",
        "description": "OPDS user creation request",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "sortOrder": {
            "type": "string",
            "enum": [
              "RECENT",
              "TITLE_ASC",
              "TITLE_DESC",
              "AUTHOR_ASC",
              "AUTHOR_DESC",
              "SERIES_ASC",
              "SERIES_DESC",
              "RATING_ASC",
              "RATING_DESC"
            ]
          }
        }
      },
      "OpdsUserV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "username": {
            "type": "string"
          },
          "sortOrder": {
            "type": "string",
            "enum": [
              "RECENT",
              "TITLE_ASC",
              "TITLE_DESC",
              "AUTHOR_ASC",
              "AUTHOR_DESC",
              "SERIES_ASC",
              "SERIES_DESC",
              "RATING_ASC",
              "RATING_DESC"
            ]
          }
        }
      },
      "SendBookByEmailRequest": {
        "type": "object",
        "description": "Send book by email request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "providerId": {
            "type": "integer",
            "format": "int64"
          },
          "recipientId": {
            "type": "integer",
            "format": "int64"
          }
        },
        "required": [
          "bookId",
          "providerId",
          "recipientId"
        ]
      },
      "CreateBookNoteV2Request": {
        "type": "object",
        "description": "Note creation request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "selectedText": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 0
          },
          "noteContent": {
            "type": "string",
            "minLength": 1
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$"
          },
          "chapterTitle": {
            "type": "string",
            "maxLength": 500,
            "minLength": 0
          }
        },
        "required": [
          "bookId",
          "cfi",
          "noteContent"
        ]
      },
      "TaskCreateRequest": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "string"
          },
          "taskType": {
            "type": "string",
            "enum": [
              "REFRESH_LIBRARY_METADATA",
              "UPDATE_BOOK_RECOMMENDATIONS",
              "CLEANUP_DELETED_BOOKS",
              "SYNC_LIBRARY_FILES",
              "CLEANUP_TEMP_METADATA",
              "REFRESH_METADATA_MANUAL"
            ]
          },
          "triggeredByCron": {
            "type": "boolean"
          },
          "options": {}
        }
      },
      "TaskCreateResponse": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "string"
          },
          "taskType": {
            "type": "string",
            "enum": [
              "REFRESH_LIBRARY_METADATA",
              "UPDATE_BOOK_RECOMMENDATIONS",
              "CLEANUP_DELETED_BOOKS",
              "SYNC_LIBRARY_FILES",
              "CLEANUP_TEMP_METADATA",
              "REFRESH_METADATA_MANUAL"
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "ACCEPTED",
              "IN_PROGRESS",
              "COMPLETED",
              "FAILED",
              "CANCELLED"
            ]
          }
        }
      },
      "InitialUserRequest": {
        "type": "object",
        "description": "Initial user request",
        "properties": {
          "username": {
            "type": "string",
            "minLength": 1
          },
          "email": {
            "type": "string",
            "format": "email",
            "minLength": 1
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "password": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "email",
          "name",
          "password",
          "username"
        ]
      },
      "ReadingSessionRequest": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "bookType": {
            "type": "string",
            "enum": [
              "PDF",
              "EPUB",
              "CBX",
              "FB2",
              "MOBI",
              "AZW3",
              "AUDIOBOOK"
            ]
          },
          "startTime": {
            "type": "string",
            "format": "date-time"
          },
          "endTime": {
            "type": "string",
            "format": "date-time"
          },
          "durationSeconds": {
            "type": "integer",
            "format": "int32"
          },
          "durationFormatted": {
            "type": "string"
          },
          "startProgress": {
            "type": "number",
            "format": "float"
          },
          "endProgress": {
            "type": "number",
            "format": "float"
          },
          "progressDelta": {
            "type": "number",
            "format": "float"
          },
          "startLocation": {
            "type": "string"
          },
          "endLocation": {
            "type": "string"
          }
        },
        "required": [
          "bookId",
          "durationSeconds",
          "endTime",
          "startTime"
        ]
      },
      "SvgIconCreateRequest": {
        "type": "object",
        "properties": {
          "svgName": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9-]+$"
          },
          "svgData": {
            "type": "string",
            "maxLength": 1048576,
            "minLength": 0
          }
        },
        "required": [
          "svgData",
          "svgName"
        ]
      },
      "SvgIconBatchRequest": {
        "type": "object",
        "properties": {
          "icons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SvgIconCreateRequest"
            },
            "minItems": 1
          }
        },
        "required": [
          "icons"
        ]
      },
      "IconSaveResult": {
        "type": "object",
        "properties": {
          "iconName": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "errorMessage": {
            "type": "string"
          }
        }
      },
      "SvgIconBatchResponse": {
        "type": "object",
        "properties": {
          "totalRequested": {
            "type": "integer",
            "format": "int32"
          },
          "successCount": {
            "type": "integer",
            "format": "int32"
          },
          "failureCount": {
            "type": "integer",
            "format": "int32"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IconSaveResult"
            }
          }
        }
      },
      "AudiobookProgress": {
        "type": "object",
        "properties": {
          "positionMs": {
            "type": "integer",
            "format": "int64"
          },
          "trackIndex": {
            "type": "integer",
            "format": "int32"
          },
          "trackPositionMs": {
            "type": "integer",
            "format": "int64"
          },
          "percentage": {
            "type": "number",
            "format": "float"
          }
        },
        "required": [
          "percentage",
          "positionMs"
        ]
      },
      "Book": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "libraryName": {
            "type": "string"
          },
          "primaryFile": {
            "$ref": "#/components/schemas/BookFile"
          },
          "title": {
            "type": "string"
          },
          "lastReadTime": {
            "type": "string",
            "format": "date-time"
          },
          "addedOn": {
            "type": "string",
            "format": "date-time"
          },
          "metadata": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "metadataMatchScore": {
            "type": "number",
            "format": "float"
          },
          "pdfProgress": {
            "$ref": "#/components/schemas/PdfProgress"
          },
          "epubProgress": {
            "$ref": "#/components/schemas/EpubProgress"
          },
          "cbxProgress": {
            "$ref": "#/components/schemas/CbxProgress"
          },
          "audiobookProgress": {
            "$ref": "#/components/schemas/AudiobookProgress"
          },
          "koreaderProgress": {
            "$ref": "#/components/schemas/KoProgress"
          },
          "koboProgress": {
            "$ref": "#/components/schemas/KoboProgress"
          },
          "personalRating": {
            "type": "integer",
            "format": "int32"
          },
          "shelves": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Shelf"
            },
            "uniqueItems": true
          },
          "readStatus": {
            "type": "string"
          },
          "dateFinished": {
            "type": "string",
            "format": "date-time"
          },
          "libraryPath": {
            "$ref": "#/components/schemas/LibraryPath"
          },
          "alternativeFormats": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookFile"
            }
          },
          "supplementaryFiles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookFile"
            }
          },
          "isPhysical": {
            "type": "boolean"
          }
        }
      },
      "BookFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "fileName": {
            "type": "string"
          },
          "filePath": {
            "type": "string"
          },
          "fileSubPath": {
            "type": "string"
          },
          "folderBased": {
            "type": "boolean"
          },
          "bookType": {
            "type": "string",
            "enum": [
              "PDF",
              "EPUB",
              "CBX",
              "FB2",
              "MOBI",
              "AZW3",
              "AUDIOBOOK"
            ]
          },
          "archiveType": {
            "type": "string",
            "enum": [
              "ZIP",
              "RAR",
              "SEVEN_ZIP",
              "UNKNOWN"
            ]
          },
          "fileSizeKb": {
            "type": "integer",
            "format": "int64"
          },
          "extension": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "addedOn": {
            "type": "string",
            "format": "date-time"
          },
          "book": {
            "type": "boolean"
          }
        }
      },
      "CbxProgress": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "percentage": {
            "type": "number",
            "format": "float"
          }
        },
        "required": [
          "page",
          "percentage"
        ]
      },
      "EpubProgress": {
        "type": "object",
        "properties": {
          "cfi": {
            "type": "string"
          },
          "href": {
            "type": "string"
          },
          "percentage": {
            "type": "number",
            "format": "float"
          }
        },
        "required": [
          "cfi",
          "percentage"
        ]
      },
      "KoProgress": {
        "type": "object",
        "properties": {
          "percentage": {
            "type": "number",
            "format": "float"
          }
        }
      },
      "KoboProgress": {
        "type": "object",
        "properties": {
          "percentage": {
            "type": "number",
            "format": "float"
          }
        }
      },
      "PdfProgress": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "percentage": {
            "type": "number",
            "format": "float"
          }
        },
        "required": [
          "page",
          "percentage"
        ]
      },
      "FileMoveRequest": {
        "type": "object",
        "description": "File move request",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "moves": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Move"
            }
          }
        }
      },
      "Move": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "targetLibraryId": {
            "type": "integer",
            "format": "int64"
          },
          "targetLibraryPathId": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CustomFontDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "fontName": {
            "type": "string"
          },
          "originalFileName": {
            "type": "string"
          },
          "format": {
            "type": "string",
            "enum": [
              "TTF",
              "OTF",
              "WOFF",
              "WOFF2"
            ]
          },
          "fileSize": {
            "type": "integer",
            "format": "int64"
          },
          "uploadedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AttachBookFileRequest": {
        "type": "object",
        "description": "Request containing source book IDs and delete option",
        "properties": {
          "sourceBookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "minItems": 1
          },
          "deleteSourceBooks": {
            "type": "boolean"
          }
        },
        "required": [
          "sourceBookIds"
        ]
      },
      "FetchMetadataRequest": {
        "type": "object",
        "description": "Fetch metadata request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "providers": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "Amazon",
                "GoodReads",
                "Google",
                "Hardcover",
                "Comicvine",
                "Douban",
                "Lubimyczytac",
                "Ranobedb"
              ]
            }
          },
          "isbn": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "asin": {
            "type": "string"
          }
        }
      },
      "CoverFetchRequest": {
        "type": "object",
        "description": "Cover fetch request",
        "properties": {
          "isbn": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "squareCover": {
            "type": "boolean"
          }
        }
      },
      "CoverImage": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "width": {
            "type": "integer",
            "format": "int32"
          },
          "height": {
            "type": "integer",
            "format": "int32"
          },
          "index": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ReadStatusUpdateRequest": {
        "type": "object",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "minItems": 1
          },
          "status": {
            "type": "string"
          }
        },
        "required": [
          "bookIds",
          "status"
        ]
      },
      "BookStatusUpdateResponse": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "readStatus": {
            "type": "string",
            "enum": [
              "UNREAD",
              "READING",
              "RE_READING",
              "READ",
              "PARTIALLY_READ",
              "PAUSED",
              "WONT_READ",
              "ABANDONED",
              "UNSET"
            ]
          },
          "readStatusModifiedTime": {
            "type": "string",
            "format": "date-time"
          },
          "dateFinished": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ShelvesAssignmentRequest": {
        "type": "object",
        "description": "Shelves assignment request",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "shelvesToAssign": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "shelvesToUnassign": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          }
        }
      },
      "BookFileProgress": {
        "type": "object",
        "properties": {
          "bookFileId": {
            "type": "integer",
            "format": "int64"
          },
          "positionData": {
            "type": "string"
          },
          "positionHref": {
            "type": "string"
          },
          "progressPercent": {
            "type": "number",
            "format": "float"
          }
        },
        "required": [
          "bookFileId",
          "progressPercent"
        ]
      },
      "ReadProgressRequest": {
        "type": "object",
        "description": "Read progress request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "fileProgress": {
            "$ref": "#/components/schemas/BookFileProgress"
          },
          "epubProgress": {
            "$ref": "#/components/schemas/EpubProgress",
            "deprecated": true
          },
          "pdfProgress": {
            "$ref": "#/components/schemas/PdfProgress",
            "deprecated": true
          },
          "cbxProgress": {
            "$ref": "#/components/schemas/CbxProgress",
            "deprecated": true
          },
          "audiobookProgress": {
            "$ref": "#/components/schemas/AudiobookProgress",
            "deprecated": true
          },
          "dateFinished": {
            "type": "string",
            "format": "date-time"
          },
          "progressValid": {
            "type": "boolean"
          }
        },
        "required": [
          "bookId"
        ]
      },
      "CreatePhysicalBookRequest": {
        "type": "object",
        "description": "Physical book creation request",
        "properties": {
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "isbn": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "description": {
            "type": "string"
          },
          "publisher": {
            "type": "string"
          },
          "publishedDate": {
            "type": "string"
          },
          "language": {
            "type": "string"
          },
          "pageCount": {
            "type": "integer",
            "format": "int32"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "libraryId"
        ]
      },
      "DeleteMetadataRequest": {
        "type": "object",
        "description": "Delete metadata request",
        "properties": {
          "metadataType": {
            "type": "string",
            "enum": [
              "authors",
              "categories",
              "moods",
              "tags",
              "series",
              "publishers",
              "languages"
            ]
          },
          "valuesToDelete": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minItems": 1
          }
        },
        "required": [
          "metadataType",
          "valuesToDelete"
        ]
      },
      "MergeMetadataRequest": {
        "type": "object",
        "description": "Merge metadata request",
        "properties": {
          "metadataType": {
            "type": "string",
            "enum": [
              "authors",
              "categories",
              "moods",
              "tags",
              "series",
              "publishers",
              "languages"
            ]
          },
          "targetValues": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "valuesToMerge": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "BulkBookIdsRequest": {
        "type": "object",
        "description": "List of book IDs",
        "properties": {
          "bookIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "minItems": 1,
            "uniqueItems": true
          }
        },
        "required": [
          "bookIds"
        ]
      },
      "CreateBookMarkRequest": {
        "type": "object",
        "description": "Bookmark creation request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string"
          },
          "positionMs": {
            "type": "integer",
            "format": "int64"
          },
          "trackIndex": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "audiobookBookmark": {
            "type": "boolean"
          }
        },
        "required": [
          "bookId"
        ]
      },
      "BookdropFinalizeFile": {
        "type": "object",
        "properties": {
          "fileId": {
            "type": "integer",
            "format": "int64"
          },
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "pathId": {
            "type": "integer",
            "format": "int64"
          },
          "metadata": {
            "$ref": "#/components/schemas/BookMetadata"
          }
        }
      },
      "BookdropFinalizeRequest": {
        "type": "object",
        "description": "Finalize import request",
        "properties": {
          "selectAll": {
            "type": "boolean"
          },
          "excludedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookdropFinalizeFile"
            }
          },
          "defaultLibraryId": {
            "type": "integer",
            "format": "int64"
          },
          "defaultPathId": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "BookdropFileResult": {
        "type": "object",
        "properties": {
          "fileName": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "BookdropFinalizeResult": {
        "type": "object",
        "properties": {
          "totalFiles": {
            "type": "integer",
            "format": "int32"
          },
          "successfullyImported": {
            "type": "integer",
            "format": "int32"
          },
          "failed": {
            "type": "integer",
            "format": "int32"
          },
          "processedAt": {
            "type": "string",
            "format": "date-time"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookdropFileResult"
            }
          }
        }
      },
      "BookdropPatternExtractRequest": {
        "type": "object",
        "description": "Pattern extraction request",
        "properties": {
          "pattern": {
            "type": "string",
            "minLength": 1
          },
          "selectAll": {
            "type": "boolean"
          },
          "excludedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "selectedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "preview": {
            "type": "boolean"
          }
        },
        "required": [
          "pattern"
        ]
      },
      "BookdropPatternExtractResult": {
        "type": "object",
        "properties": {
          "totalFiles": {
            "type": "integer",
            "format": "int32"
          },
          "successfullyExtracted": {
            "type": "integer",
            "format": "int32"
          },
          "failed": {
            "type": "integer",
            "format": "int32"
          },
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FileExtractionResult"
            }
          }
        }
      },
      "FileExtractionResult": {
        "type": "object",
        "properties": {
          "fileId": {
            "type": "integer",
            "format": "int64"
          },
          "fileName": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "extractedMetadata": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "errorMessage": {
            "type": "string"
          }
        }
      },
      "BookdropSelectionRequest": {
        "type": "object",
        "description": "Selection request for files to discard",
        "properties": {
          "selectAll": {
            "type": "boolean"
          },
          "excludedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "selectedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "BookdropBulkEditRequest": {
        "type": "object",
        "description": "Bulk edit request",
        "properties": {
          "fields": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "enabledFields": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "mergeArrays": {
            "type": "boolean"
          },
          "selectAll": {
            "type": "boolean"
          },
          "excludedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "selectedIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        },
        "required": [
          "enabledFields",
          "fields"
        ]
      },
      "BookdropBulkEditResult": {
        "type": "object",
        "properties": {
          "totalFiles": {
            "type": "integer",
            "format": "int32"
          },
          "successfullyUpdated": {
            "type": "integer",
            "format": "int32"
          },
          "failed": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CreateBookNoteRequest": {
        "type": "object",
        "description": "Note creation request",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "bookId",
          "content"
        ]
      },
      "BookNote": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "userId": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserCreateRequest": {
        "type": "object",
        "description": "User registration request",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "permissionUpload": {
            "type": "boolean"
          },
          "permissionDownload": {
            "type": "boolean"
          },
          "permissionEditMetadata": {
            "type": "boolean"
          },
          "permissionManageLibrary": {
            "type": "boolean"
          },
          "permissionEmailBook": {
            "type": "boolean"
          },
          "permissionDeleteBook": {
            "type": "boolean"
          },
          "permissionAccessOpds": {
            "type": "boolean"
          },
          "permissionSyncKoreader": {
            "type": "boolean"
          },
          "permissionSyncKobo": {
            "type": "boolean"
          },
          "permissionAdmin": {
            "type": "boolean"
          },
          "permissionManageMetadataConfig": {
            "type": "boolean"
          },
          "permissionAccessBookdrop": {
            "type": "boolean"
          },
          "permissionAccessLibraryStats": {
            "type": "boolean"
          },
          "permissionAccessUserStats": {
            "type": "boolean"
          },
          "permissionAccessTaskManager": {
            "type": "boolean"
          },
          "permissionManageGlobalPreferences": {
            "type": "boolean"
          },
          "permissionManageIcons": {
            "type": "boolean"
          },
          "permissionManageFonts": {
            "type": "boolean"
          },
          "permissionBulkAutoFetchMetadata": {
            "type": "boolean"
          },
          "permissionBulkCustomFetchMetadata": {
            "type": "boolean"
          },
          "permissionBulkEditMetadata": {
            "type": "boolean"
          },
          "permissionBulkRegenerateCover": {
            "type": "boolean"
          },
          "permissionMoveOrganizeFiles": {
            "type": "boolean"
          },
          "permissionBulkLockUnlockMetadata": {
            "type": "boolean"
          },
          "permissionBulkResetBookloreReadProgress": {
            "type": "boolean"
          },
          "permissionBulkResetKoReaderReadProgress": {
            "type": "boolean"
          },
          "permissionBulkResetBookReadStatus": {
            "type": "boolean"
          },
          "selectedLibraries": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "description": "Refresh token request",
        "properties": {
          "refreshToken": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "refreshToken"
        ]
      },
      "UserLoginRequest": {
        "type": "object",
        "description": "User login request",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "CreateAnnotationRequest": {
        "type": "object",
        "description": "Annotation creation request",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "cfi": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "text": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 0
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9A-Fa-f]{6}$"
          },
          "style": {
            "type": "string",
            "pattern": "^(highlight|underline|strikethrough|squiggly)$"
          },
          "note": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 0
          },
          "chapterTitle": {
            "type": "string",
            "maxLength": 500,
            "minLength": 0
          }
        },
        "required": [
          "bookId",
          "cfi",
          "text"
        ]
      },
      "MagicShelf": {
        "type": "object",
        "description": "Magic shelf object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 0
          },
          "icon": {
            "type": "string",
            "maxLength": 64,
            "minLength": 0
          },
          "iconType": {
            "type": "string",
            "enum": [
              "PRIME_NG",
              "CUSTOM_SVG"
            ]
          },
          "filterJson": {
            "type": "string",
            "maxLength": 2147483647,
            "minLength": 2
          },
          "isPublic": {
            "type": "boolean"
          }
        },
        "required": [
          "filterJson",
          "icon",
          "name"
        ]
      },
      "KoboAuthentication": {
        "type": "object",
        "properties": {
          "AccessToken": {
            "type": "string"
          },
          "RefreshToken": {
            "type": "string"
          },
          "TokenType": {
            "type": "string"
          },
          "TrackingId": {
            "type": "string"
          },
          "UserKey": {
            "type": "string"
          }
        }
      },
      "OpdsUserV2UpdateRequest": {
        "type": "object",
        "description": "OPDS user update request",
        "properties": {
          "sortOrder": {
            "type": "string",
            "enum": [
              "RECENT",
              "TITLE_ASC",
              "TITLE_DESC",
              "AUTHOR_ASC",
              "AUTHOR_DESC",
              "SERIES_ASC",
              "SERIES_DESC",
              "RATING_ASC",
              "RATING_DESC"
            ]
          }
        },
        "required": [
          "sortOrder"
        ]
      },
      "TaskCronConfigRequest": {
        "type": "object",
        "properties": {
          "cronExpression": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "CronConfig": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "taskType": {
            "type": "string",
            "enum": [
              "REFRESH_LIBRARY_METADATA",
              "UPDATE_BOOK_RECOMMENDATIONS",
              "CLEANUP_DELETED_BOOKS",
              "SYNC_LIBRARY_FILES",
              "CLEANUP_TEMP_METADATA",
              "REFRESH_METADATA_MANUAL"
            ]
          },
          "cronExpression": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "VersionInfo": {
        "type": "object",
        "properties": {
          "current": {
            "type": "string"
          },
          "latest": {
            "type": "string"
          }
        }
      },
      "ReleaseNote": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "changelog": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "publishedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ReadingSessionTimelineResponse": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "bookTitle": {
            "type": "string"
          },
          "bookType": {
            "type": "string",
            "enum": [
              "PDF",
              "EPUB",
              "CBX",
              "FB2",
              "MOBI",
              "AZW3",
              "AUDIOBOOK"
            ]
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "totalSessions": {
            "type": "integer",
            "format": "int64"
          },
          "totalDurationSeconds": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ReadingSpeedResponse": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "avgProgressPerMinute": {
            "type": "number",
            "format": "double"
          },
          "totalSessions": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PeakReadingHoursResponse": {
        "type": "object",
        "properties": {
          "hourOfDay": {
            "type": "integer",
            "format": "int32"
          },
          "sessionCount": {
            "type": "integer",
            "format": "int64"
          },
          "totalDurationSeconds": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ReadingSessionHeatmapResponse": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "count": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "GenreStatisticsResponse": {
        "type": "object",
        "properties": {
          "genre": {
            "type": "string"
          },
          "bookCount": {
            "type": "integer",
            "format": "int64"
          },
          "totalSessions": {
            "type": "integer",
            "format": "int64"
          },
          "totalDurationSeconds": {
            "type": "integer",
            "format": "int64"
          },
          "averageSessionsPerBook": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "FavoriteReadingDaysResponse": {
        "type": "object",
        "properties": {
          "dayOfWeek": {
            "type": "integer",
            "format": "int32"
          },
          "dayName": {
            "type": "string"
          },
          "sessionCount": {
            "type": "integer",
            "format": "int64"
          },
          "totalDurationSeconds": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CompletionTimelineResponse": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "month": {
            "type": "integer",
            "format": "int32"
          },
          "totalBooks": {
            "type": "integer",
            "format": "int64"
          },
          "statusBreakdown": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            }
          },
          "finishedBooks": {
            "type": "integer",
            "format": "int64"
          },
          "completionRate": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "BookCompletionHeatmapResponse": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "month": {
            "type": "integer",
            "format": "int32"
          },
          "count": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "TaskInfo": {
        "type": "object",
        "properties": {
          "taskType": {
            "type": "string",
            "enum": [
              "REFRESH_LIBRARY_METADATA",
              "UPDATE_BOOK_RECOMMENDATIONS",
              "CLEANUP_DELETED_BOOKS",
              "SYNC_LIBRARY_FILES",
              "CLEANUP_TEMP_METADATA",
              "REFRESH_METADATA_MANUAL"
            ]
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "parallel": {
            "type": "boolean"
          },
          "async": {
            "type": "boolean"
          },
          "cronSupported": {
            "type": "boolean"
          },
          "cronConfig": {
            "$ref": "#/components/schemas/CronConfig"
          },
          "metadata": {
            "type": "string"
          }
        }
      },
      "TaskHistory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "REFRESH_LIBRARY_METADATA",
              "UPDATE_BOOK_RECOMMENDATIONS",
              "CLEANUP_DELETED_BOOKS",
              "SYNC_LIBRARY_FILES",
              "CLEANUP_TEMP_METADATA",
              "REFRESH_METADATA_MANUAL"
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "ACCEPTED",
              "IN_PROGRESS",
              "COMPLETED",
              "FAILED",
              "CANCELLED"
            ]
          },
          "progressPercentage": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TasksHistoryResponse": {
        "type": "object",
        "properties": {
          "taskHistories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskHistory"
            }
          }
        }
      },
      "Amazon": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "cookie": {
            "type": "string"
          },
          "domain": {
            "type": "string"
          }
        }
      },
      "AppSettings": {
        "type": "object",
        "properties": {
          "defaultMetadataRefreshOptions": {
            "$ref": "#/components/schemas/MetadataRefreshOptions"
          },
          "libraryMetadataRefreshOptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MetadataRefreshOptions"
            }
          },
          "autoBookSearch": {
            "type": "boolean"
          },
          "similarBookRecommendation": {
            "type": "boolean"
          },
          "opdsServerEnabled": {
            "type": "boolean"
          },
          "komgaApiEnabled": {
            "type": "boolean"
          },
          "komgaGroupUnknown": {
            "type": "boolean"
          },
          "uploadPattern": {
            "type": "string"
          },
          "pdfCacheSizeInMb": {
            "type": "integer",
            "format": "int32"
          },
          "maxFileUploadSizeInMb": {
            "type": "integer",
            "format": "int32"
          },
          "remoteAuthEnabled": {
            "type": "boolean"
          },
          "metadataDownloadOnBookdrop": {
            "type": "boolean"
          },
          "oidcEnabled": {
            "type": "boolean"
          },
          "telemetryEnabled": {
            "type": "boolean"
          },
          "oidcProviderDetails": {
            "$ref": "#/components/schemas/OidcProviderDetails"
          },
          "oidcAutoProvisionDetails": {
            "$ref": "#/components/schemas/OidcAutoProvisionDetails"
          },
          "metadataProviderSettings": {
            "$ref": "#/components/schemas/MetadataProviderSettings"
          },
          "metadataMatchWeights": {
            "$ref": "#/components/schemas/MetadataMatchWeights"
          },
          "metadataPersistenceSettings": {
            "$ref": "#/components/schemas/MetadataPersistenceSettings"
          },
          "metadataPublicReviewsSettings": {
            "$ref": "#/components/schemas/MetadataPublicReviewsSettings"
          },
          "koboSettings": {
            "$ref": "#/components/schemas/KoboSettings"
          },
          "coverCroppingSettings": {
            "$ref": "#/components/schemas/CoverCroppingSettings"
          },
          "metadataProviderSpecificFields": {
            "$ref": "#/components/schemas/MetadataProviderSpecificFields"
          },
          "diskType": {
            "type": "string"
          }
        }
      },
      "ClaimMapping": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        }
      },
      "Comicvine": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "apiKey": {
            "type": "string"
          }
        }
      },
      "CoverCroppingSettings": {
        "type": "object",
        "properties": {
          "verticalCroppingEnabled": {
            "type": "boolean"
          },
          "horizontalCroppingEnabled": {
            "type": "boolean"
          },
          "aspectRatioThreshold": {
            "type": "number",
            "format": "double"
          },
          "smartCroppingEnabled": {
            "type": "boolean"
          }
        }
      },
      "Douban": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "EnabledFields": {
        "type": "object",
        "properties": {
          "title": {
            "type": "boolean"
          },
          "subtitle": {
            "type": "boolean"
          },
          "description": {
            "type": "boolean"
          },
          "authors": {
            "type": "boolean"
          },
          "publisher": {
            "type": "boolean"
          },
          "publishedDate": {
            "type": "boolean"
          },
          "seriesName": {
            "type": "boolean"
          },
          "seriesNumber": {
            "type": "boolean"
          },
          "seriesTotal": {
            "type": "boolean"
          },
          "isbn13": {
            "type": "boolean"
          },
          "isbn10": {
            "type": "boolean"
          },
          "language": {
            "type": "boolean"
          },
          "categories": {
            "type": "boolean"
          },
          "cover": {
            "type": "boolean"
          },
          "pageCount": {
            "type": "boolean"
          },
          "asin": {
            "type": "boolean"
          },
          "goodreadsId": {
            "type": "boolean"
          },
          "comicvineId": {
            "type": "boolean"
          },
          "hardcoverId": {
            "type": "boolean"
          },
          "googleId": {
            "type": "boolean"
          },
          "lubimyczytacId": {
            "type": "boolean"
          },
          "amazonRating": {
            "type": "boolean"
          },
          "amazonReviewCount": {
            "type": "boolean"
          },
          "goodreadsRating": {
            "type": "boolean"
          },
          "goodreadsReviewCount": {
            "type": "boolean"
          },
          "hardcoverRating": {
            "type": "boolean"
          },
          "hardcoverReviewCount": {
            "type": "boolean"
          },
          "lubimyczytacRating": {
            "type": "boolean"
          },
          "ranobedbId": {
            "type": "boolean"
          },
          "ranobedbRating": {
            "type": "boolean"
          },
          "moods": {
            "type": "boolean"
          },
          "tags": {
            "type": "boolean"
          }
        }
      },
      "FieldOptions": {
        "type": "object",
        "properties": {
          "title": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "subtitle": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "description": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "authors": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "publisher": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "publishedDate": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "seriesName": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "seriesNumber": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "seriesTotal": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "isbn13": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "isbn10": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "language": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "categories": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "cover": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "pageCount": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "asin": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "goodreadsId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "comicvineId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "hardcoverId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "googleId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "lubimyczytacId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "amazonRating": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "amazonReviewCount": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "goodreadsRating": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "goodreadsReviewCount": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "hardcoverRating": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "hardcoverReviewCount": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "lubimyczytacRating": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "ranobedbId": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "ranobedbRating": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "moods": {
            "$ref": "#/components/schemas/FieldProvider"
          },
          "tags": {
            "$ref": "#/components/schemas/FieldProvider"
          }
        }
      },
      "FieldProvider": {
        "type": "object",
        "properties": {
          "p1": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "p2": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "p3": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "p4": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          }
        }
      },
      "FormatSettings": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "maxFileSizeInMb": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Goodreads": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "Google": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "language": {
            "type": "string"
          }
        }
      },
      "Hardcover": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "apiKey": {
            "type": "string"
          }
        }
      },
      "KoboSettings": {
        "type": "object",
        "properties": {
          "convertToKepub": {
            "type": "boolean"
          },
          "conversionLimitInMb": {
            "type": "integer",
            "format": "int32"
          },
          "convertCbxToEpub": {
            "type": "boolean"
          },
          "conversionLimitInMbForCbx": {
            "type": "integer",
            "format": "int32"
          },
          "forceEnableHyphenation": {
            "type": "boolean"
          },
          "conversionImageCompressionPercentage": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Lubimyczytac": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "MetadataMatchWeights": {
        "type": "object",
        "properties": {
          "title": {
            "type": "integer",
            "format": "int32"
          },
          "subtitle": {
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "type": "integer",
            "format": "int32"
          },
          "authors": {
            "type": "integer",
            "format": "int32"
          },
          "publisher": {
            "type": "integer",
            "format": "int32"
          },
          "publishedDate": {
            "type": "integer",
            "format": "int32"
          },
          "seriesName": {
            "type": "integer",
            "format": "int32"
          },
          "seriesNumber": {
            "type": "integer",
            "format": "int32"
          },
          "seriesTotal": {
            "type": "integer",
            "format": "int32"
          },
          "isbn13": {
            "type": "integer",
            "format": "int32"
          },
          "isbn10": {
            "type": "integer",
            "format": "int32"
          },
          "language": {
            "type": "integer",
            "format": "int32"
          },
          "pageCount": {
            "type": "integer",
            "format": "int32"
          },
          "categories": {
            "type": "integer",
            "format": "int32"
          },
          "amazonRating": {
            "type": "integer",
            "format": "int32"
          },
          "amazonReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "goodreadsRating": {
            "type": "integer",
            "format": "int32"
          },
          "goodreadsReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "hardcoverRating": {
            "type": "integer",
            "format": "int32"
          },
          "hardcoverReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "doubanRating": {
            "type": "integer",
            "format": "int32"
          },
          "doubanReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "ranobedbRating": {
            "type": "integer",
            "format": "int32"
          },
          "coverImage": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MetadataPersistenceSettings": {
        "type": "object",
        "properties": {
          "saveToOriginalFile": {
            "$ref": "#/components/schemas/SaveToOriginalFile"
          },
          "convertCbrCb7ToCbz": {
            "type": "boolean"
          },
          "moveFilesToLibraryPattern": {
            "type": "boolean"
          }
        }
      },
      "MetadataProviderSettings": {
        "type": "object",
        "properties": {
          "amazon": {
            "$ref": "#/components/schemas/Amazon"
          },
          "google": {
            "$ref": "#/components/schemas/Google"
          },
          "goodReads": {
            "$ref": "#/components/schemas/Goodreads"
          },
          "hardcover": {
            "$ref": "#/components/schemas/Hardcover"
          },
          "comicvine": {
            "$ref": "#/components/schemas/Comicvine"
          },
          "ranobedb": {
            "$ref": "#/components/schemas/Ranobedb"
          },
          "douban": {
            "$ref": "#/components/schemas/Douban"
          },
          "lubimyczytac": {
            "$ref": "#/components/schemas/Lubimyczytac"
          }
        }
      },
      "MetadataProviderSpecificFields": {
        "type": "object",
        "properties": {
          "asin": {
            "type": "boolean"
          },
          "amazonRating": {
            "type": "boolean"
          },
          "amazonReviewCount": {
            "type": "boolean"
          },
          "googleId": {
            "type": "boolean"
          },
          "goodreadsId": {
            "type": "boolean"
          },
          "goodreadsRating": {
            "type": "boolean"
          },
          "goodreadsReviewCount": {
            "type": "boolean"
          },
          "hardcoverId": {
            "type": "boolean"
          },
          "hardcoverBookId": {
            "type": "boolean"
          },
          "hardcoverRating": {
            "type": "boolean"
          },
          "hardcoverReviewCount": {
            "type": "boolean"
          },
          "comicvineId": {
            "type": "boolean"
          },
          "lubimyczytacId": {
            "type": "boolean"
          },
          "lubimyczytacRating": {
            "type": "boolean"
          },
          "ranobedbId": {
            "type": "boolean"
          },
          "ranobedbRating": {
            "type": "boolean"
          }
        }
      },
      "MetadataPublicReviewsSettings": {
        "type": "object",
        "properties": {
          "downloadEnabled": {
            "type": "boolean"
          },
          "autoDownloadEnabled": {
            "type": "boolean"
          },
          "providers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReviewProviderConfig"
            },
            "uniqueItems": true
          }
        }
      },
      "MetadataRefreshOptions": {
        "type": "object",
        "properties": {
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "refreshCovers": {
            "type": "boolean"
          },
          "mergeCategories": {
            "type": "boolean"
          },
          "reviewBeforeApply": {
            "type": "boolean"
          },
          "replaceMode": {
            "type": "string",
            "enum": [
              "REPLACE_ALL",
              "REPLACE_MISSING",
              "REPLACE_WHEN_PROVIDED"
            ]
          },
          "fieldOptions": {
            "$ref": "#/components/schemas/FieldOptions"
          },
          "enabledFields": {
            "$ref": "#/components/schemas/EnabledFields"
          }
        },
        "required": [
          "enabledFields",
          "fieldOptions"
        ]
      },
      "OidcAutoProvisionDetails": {
        "type": "object",
        "properties": {
          "enableAutoProvisioning": {
            "type": "boolean"
          },
          "defaultPermissions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "defaultLibraryIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "OidcProviderDetails": {
        "type": "object",
        "properties": {
          "providerName": {
            "type": "string"
          },
          "clientId": {
            "type": "string"
          },
          "issuerUri": {
            "type": "string"
          },
          "claimMapping": {
            "$ref": "#/components/schemas/ClaimMapping"
          }
        }
      },
      "Ranobedb": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "ReviewProviderConfig": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string",
            "enum": [
              "Amazon",
              "GoodReads",
              "Google",
              "Hardcover",
              "Comicvine",
              "Douban",
              "Lubimyczytac",
              "Ranobedb"
            ]
          },
          "enabled": {
            "type": "boolean"
          },
          "maxReviews": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SaveToOriginalFile": {
        "type": "object",
        "properties": {
          "epub": {
            "$ref": "#/components/schemas/FormatSettings"
          },
          "pdf": {
            "$ref": "#/components/schemas/FormatSettings"
          },
          "cbx": {
            "$ref": "#/components/schemas/FormatSettings"
          },
          "anyFormatEnabled": {
            "type": "boolean"
          }
        }
      },
      "PageReadingSessionResponse": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReadingSessionResponse"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PageableObject": {
        "type": "object",
        "properties": {
          "unpaged": {
            "type": "boolean"
          },
          "paged": {
            "type": "boolean"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          }
        }
      },
      "ReadingSessionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "bookTitle": {
            "type": "string"
          },
          "bookType": {
            "type": "string",
            "enum": [
              "PDF",
              "EPUB",
              "CBX",
              "FB2",
              "MOBI",
              "AZW3",
              "AUDIOBOOK"
            ]
          },
          "startTime": {
            "type": "string",
            "format": "date-time"
          },
          "endTime": {
            "type": "string",
            "format": "date-time"
          },
          "durationSeconds": {
            "type": "integer",
            "format": "int32"
          },
          "startProgress": {
            "type": "number",
            "format": "float"
          },
          "endProgress": {
            "type": "number",
            "format": "float"
          },
          "progressDelta": {
            "type": "number",
            "format": "float"
          },
          "startLocation": {
            "type": "string"
          },
          "endLocation": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SortObject": {
        "type": "object",
        "properties": {
          "unsorted": {
            "type": "boolean"
          },
          "sorted": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PublicAppSetting": {
        "type": "object",
        "properties": {
          "oidcEnabled": {
            "type": "boolean"
          },
          "remoteAuthEnabled": {
            "type": "boolean"
          },
          "oidcProviderDetails": {
            "$ref": "#/components/schemas/OidcProviderDetails"
          }
        }
      },
      "PdfBookInfo": {
        "type": "object",
        "properties": {
          "pageCount": {
            "type": "integer",
            "format": "int32"
          },
          "outline": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PdfOutlineItem"
            }
          }
        }
      },
      "PdfOutlineItem": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PageString": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "HealthcheckResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "SuccessResponseHealthcheckResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/HealthcheckResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EpubBookInfo": {
        "type": "object",
        "properties": {
          "containerPath": {
            "type": "string"
          },
          "rootPath": {
            "type": "string"
          },
          "spine": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EpubSpineItem"
            }
          },
          "manifest": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EpubManifestItem"
            }
          },
          "toc": {
            "$ref": "#/components/schemas/EpubTocItem"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {}
          },
          "coverPath": {
            "type": "string"
          }
        }
      },
      "EpubManifestItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "href": {
            "type": "string"
          },
          "mediaType": {
            "type": "string"
          },
          "properties": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "size": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "EpubSpineItem": {
        "type": "object",
        "properties": {
          "idref": {
            "type": "string"
          },
          "href": {
            "type": "string"
          },
          "mediaType": {
            "type": "string"
          },
          "linear": {
            "type": "boolean"
          }
        }
      },
      "EpubTocItem": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string"
          },
          "href": {
            "type": "string"
          },
          "children": {
            "type": "array",
            "items": {}
          }
        }
      },
      "CbxPageInfo": {
        "type": "object",
        "properties": {
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "displayName": {
            "type": "string"
          }
        }
      },
      "BookRecommendation": {
        "type": "object",
        "properties": {
          "book": {
            "$ref": "#/components/schemas/Book"
          },
          "similarityScore": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "BookdropFileNotification": {
        "type": "object",
        "properties": {
          "pendingCount": {
            "type": "integer",
            "format": "int32"
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "lastUpdatedAt": {
            "type": "string"
          }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "minimum": 1
          },
          "sort": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "BookdropFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "fileName": {
            "type": "string"
          },
          "filePath": {
            "type": "string"
          },
          "fileSize": {
            "type": "integer",
            "format": "int64"
          },
          "originalMetadata": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "fetchedMetadata": {
            "$ref": "#/components/schemas/BookMetadata"
          },
          "createdAt": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "PENDING_REVIEW",
              "FINALIZED"
            ]
          }
        }
      },
      "PageBookdropFile": {
        "type": "object",
        "properties": {
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BookdropFile"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "AudiobookChapter": {
        "type": "object",
        "properties": {
          "index": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "startTimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "endTimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "durationMs": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "AudiobookInfo": {
        "type": "object",
        "properties": {
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "bookFileId": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "narrator": {
            "type": "string"
          },
          "durationMs": {
            "type": "integer",
            "format": "int64"
          },
          "bitrate": {
            "type": "integer",
            "format": "int32"
          },
          "codec": {
            "type": "string"
          },
          "sampleRate": {
            "type": "integer",
            "format": "int32"
          },
          "channels": {
            "type": "integer",
            "format": "int32"
          },
          "folderBased": {
            "type": "boolean"
          },
          "chapters": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AudiobookChapter"
            }
          },
          "tracks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AudiobookTrack"
            }
          }
        }
      },
      "AudiobookTrack": {
        "type": "object",
        "properties": {
          "index": {
            "type": "integer",
            "format": "int32"
          },
          "fileName": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "durationMs": {
            "type": "integer",
            "format": "int64"
          },
          "fileSizeBytes": {
            "type": "integer",
            "format": "int64"
          },
          "cumulativeStartMs": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "MobileShelfSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "bookCount": {
            "type": "integer",
            "format": "int32"
          },
          "publicShelf": {
            "type": "boolean"
          }
        }
      },
      "MobileMagicShelfSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "iconType": {
            "type": "string"
          },
          "publicShelf": {
            "type": "boolean"
          }
        }
      },
      "MobileLibrarySummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "bookCount": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "MobileBookSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "readStatus": {
            "type": "string"
          },
          "personalRating": {
            "type": "integer",
            "format": "int32"
          },
          "seriesName": {
            "type": "string"
          },
          "seriesNumber": {
            "type": "number",
            "format": "float"
          },
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "addedOn": {
            "type": "string",
            "format": "date-time"
          },
          "lastReadTime": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MobilePageResponseMobileBookSummary": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MobileBookSummary"
            }
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "hasNext": {
            "type": "boolean"
          },
          "hasPrevious": {
            "type": "boolean"
          }
        }
      },
      "MobileBookDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "readStatus": {
            "type": "string"
          },
          "personalRating": {
            "type": "integer",
            "format": "int32"
          },
          "seriesName": {
            "type": "string"
          },
          "seriesNumber": {
            "type": "number",
            "format": "float"
          },
          "libraryId": {
            "type": "integer",
            "format": "int64"
          },
          "addedOn": {
            "type": "string",
            "format": "date-time"
          },
          "lastReadTime": {
            "type": "string",
            "format": "date-time"
          },
          "subtitle": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "publisher": {
            "type": "string"
          },
          "publishedDate": {
            "type": "string",
            "format": "date"
          },
          "pageCount": {
            "type": "integer",
            "format": "int32"
          },
          "isbn13": {
            "type": "string"
          },
          "language": {
            "type": "string"
          },
          "goodreadsRating": {
            "type": "number",
            "format": "double"
          },
          "goodreadsReviewCount": {
            "type": "integer",
            "format": "int32"
          },
          "libraryName": {
            "type": "string"
          },
          "shelves": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MobileShelfSummary"
            }
          },
          "readProgress": {
            "type": "number",
            "format": "float"
          },
          "primaryFileType": {
            "type": "string"
          },
          "fileTypes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MobileBookFile"
            }
          },
          "epubProgress": {
            "$ref": "#/components/schemas/EpubProgress"
          },
          "pdfProgress": {
            "$ref": "#/components/schemas/PdfProgress"
          },
          "cbxProgress": {
            "$ref": "#/components/schemas/CbxProgress"
          },
          "audiobookProgress": {
            "$ref": "#/components/schemas/AudiobookProgress"
          }
        }
      },
      "MobileBookFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "bookType": {
            "type": "string"
          },
          "fileSizeKb": {
            "type": "integer",
            "format": "int64"
          },
          "fileName": {
            "type": "string"
          },
          "primary": {
            "type": "boolean"
          }
        }
      },
      "FetchedProposal": {
        "type": "object",
        "properties": {
          "proposalId": {
            "type": "integer",
            "format": "int64"
          },
          "taskId": {
            "type": "string"
          },
          "bookId": {
            "type": "integer",
            "format": "int64"
          },
          "fetchedAt": {
            "type": "string",
            "format": "date-time"
          },
          "reviewedAt": {
            "type": "string",
            "format": "date-time"
          },
          "reviewerUserId": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "FETCHED",
              "ACCEPTED",
              "REJECTED"
            ]
          },
          "metadataJson": {
            "$ref": "#/components/schemas/BookMetadata"
          }
        }
      },
      "MetadataFetchTask": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "IN_PROGRESS",
              "COMPLETED",
              "ERROR",
              "CANCELLED"
            ]
          },
          "completed": {
            "type": "integer",
            "format": "int32"
          },
          "totalBooks": {
            "type": "integer",
            "format": "int32"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          },
          "initiatedBy": {
            "type": "integer",
            "format": "int64"
          },
          "proposals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FetchedProposal"
            }
          }
        }
      },
      "MetadataTaskDetailsResponse": {
        "type": "object",
        "properties": {
          "task": {
            "$ref": "#/components/schemas/MetadataFetchTask"
          }
        }
      },
      "MetadataBatchProgressNotification": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "string"
          },
          "completed": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "review": {
            "type": "boolean"
          }
        }
      },
      "KoboResources": {
        "type": "object",
        "properties": {
          "Resources": {
            "$ref": "#/components/schemas/JsonNode"
          }
        }
      },
      "TaskCancelResponse": {
        "type": "object",
        "properties": {
          "taskId": {
            "type": "string"
          },
          "cancelled": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "BookDeletionResponse": {
        "type": "object",
        "properties": {
          "deleted": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            },
            "uniqueItems": true
          },
          "failedFileDeletions": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "name": "bearerAuth",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}